./db/migrate/20160426072109_change_devices_token_name.rb
    rename_column :devices, :token, :gcm_token
./db/migrate/20160515150309_add_site_reference_to_device.rb
    add_reference :devices, :site, index: true, foreign_key: true
./db/migrate/20160614102939_remove_devices.rb
  	drop_table :devices
./db/migrate/20160306173852_create_devices.rb
    create_table :devices do |t|
./db/migrate/20160430064544_add_worker_id_to_devices.rb
    add_reference :devices, :worker, index: true, foreign_key: true
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  width: device-width;
  width: device-width; }
  width: device-width; }
            this.deviceStatus(this.params);
          //     this.deviceStatus(this.params);
Terminal.prototype.deviceStatus = function(params) {
//     Pu = 1  <- device physical pixels.
  <meta name="viewport" content="width=device-width,initial-scale=1">
      <pre><code><a class="trace-frames" data-frame-id="0" href="#">app/controllers/devices_controller.rb:6:in `create&#39;</a><br></code></pre>
      <pre><code><a class="trace-frames" data-frame-id="0" href="#">app/controllers/devices_controller.rb:6:in `create&#39;</a><br><a class="trace-frames" data-frame-id="1" href="#">actionpack (4.2.2) lib/action_controller/metal/rendering.rb:15:in `render&#39;</a><br><a class="trace-frames" data-frame-id="2" href="#">actionpack (4.2.2) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render&#39;</a><br><a class="trace-frames" data-frame-id="3" href="#">activesupport (4.2.2) lib/active_support/core_ext/benchmark.rb:12:in `block in ms&#39;</a><br><a class="trace-frames" data-frame-id="4" href="#">/home/niki/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/benchmark.rb:303:in `realtime&#39;</a><br><a class="trace-frames" data-frame-id="5" href="#">activesupport (4.2.2) lib/active_support/core_ext/benchmark.rb:12:in `ms&#39;</a><br><a class="trace-frames" data-frame-id="6" href="#">actionpack (4.2.2) lib/action_controller/metal/instrumentation.rb:44:in `block in render&#39;</a><br><a class="trace-frames" data-frame-id="7" href="#">actionpack (4.2.2) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime&#39;</a><br><a class="trace-frames" data-frame-id="8" href="#">activerecord (4.2.2) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime&#39;</a><br><a class="trace-frames" data-frame-id="9" href="#">actionpack (4.2.2) lib/action_controller/metal/instrumentation.rb:43:in `render&#39;</a><br><a class="trace-frames" data-frame-id="10" href="#">actionpack (4.2.2) lib/action_controller/metal/implicit_render.rb:4:in `send_action&#39;</a><br><a class="trace-frames" data-frame-id="11" href="#">actionpack (4.2.2) lib/abstract_controller/base.rb:198:in `process_action&#39;</a><br><a class="trace-frames" data-frame-id="12" href="#">actionpack (4.2.2) lib/action_controller/metal/rendering.rb:10:in `process_action&#39;</a><br><a class="trace-frames" data-frame-id="13" href="#">actionpack (4.2.2) lib/abstract_controller/callbacks.rb:20:in `block in process_action&#39;</a><br><a class="trace-frames" data-frame-id="14" href="#">activesupport (4.2.2) lib/active_support/callbacks.rb:117:in `call&#39;</a><br><a class="trace-frames" data-frame-id="15" href="#">activesupport (4.2.2) lib/active_support/callbacks.rb:117:in `call&#39;</a><br><a class="trace-frames" data-frame-id="16" href="#">activesupport (4.2.2) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile&#39;</a><br><a class="trace-frames" data-frame-id="17" href="#">activesupport (4.2.2) lib/active_support/callbacks.rb:505:in `call&#39;</a><br><a class="trace-frames" data-frame-id="18" href="#">activesupport (4.2.2) lib/active_support/callbacks.rb:505:in `call&#39;</a><br><a class="trace-frames" data-frame-id="19" href="#">activesupport (4.2.2) lib/active_support/callbacks.rb:92:in `_run_callbacks&#39;</a><br><a class="trace-frames" data-frame-id="20" href="#">activesupport (4.2.2) lib/active_support/callbacks.rb:776:in `_run_process_action_callbacks&#39;</a><br><a class="trace-frames" data-frame-id="21" href="#">activesupport (4.2.2) lib/active_support/callbacks.rb:81:in `run_callbacks&#39;</a><br><a class="trace-frames" data-frame-id="22" href="#">actionpack (4.2.2) lib/abstract_controller/callbacks.rb:19:in `process_action&#39;</a><br><a class="trace-frames" data-frame-id="23" href="#">actionpack (4.2.2) lib/action_controller/metal/rescue.rb:29:in `process_action&#39;</a><br><a class="trace-frames" data-frame-id="24" href="#">actionpack (4.2.2) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action&#39;</a><br><a class="trace-frames" data-frame-id="25" href="#">activesupport (4.2.2) lib/active_support/notifications.rb:164:in `block in instrument&#39;</a><br><a class="trace-frames" data-frame-id="26" href="#">activesupport (4.2.2) lib/active_support/notifications/instrumenter.rb:20:in `instrument&#39;</a><br><a class="trace-frames" data-frame-id="27" href="#">activesupport (4.2.2) lib/active_support/notifications.rb:164:in `instrument&#39;</a><br><a class="trace-frames" data-frame-id="28" href="#">actionpack (4.2.2) lib/action_controller/metal/instrumentation.rb:30:in `process_action&#39;</a><br><a class="trace-frames" data-frame-id="29" href="#">actionpack (4.2.2) lib/action_controller/metal/params_wrapper.rb:250:in `process_action&#39;</a><br><a class="trace-frames" data-frame-id="30" href="#">activerecord (4.2.2) lib/active_record/railties/controller_runtime.rb:18:in `process_action&#39;</a><br><a class="trace-frames" data-frame-id="31" href="#">actionpack (4.2.2) lib/abstract_controller/base.rb:137:in `process&#39;</a><br><a class="trace-frames" data-frame-id="32" href="#">actionview (4.2.2) lib/action_view/rendering.rb:30:in `process&#39;</a><br><a class="trace-frames" data-frame-id="33" href="#">actionpack (4.2.2) lib/action_controller/metal.rb:196:in `dispatch&#39;</a><br><a class="trace-frames" data-frame-id="34" href="#">actionpack (4.2.2) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch&#39;</a><br><a class="trace-frames" data-frame-id="35" href="#">actionpack (4.2.2) lib/action_controller/metal.rb:237:in `block in action&#39;</a><br><a class="trace-frames" data-frame-id="36" href="#">actionpack (4.2.2) lib/action_dispatch/routing/route_set.rb:74:in `call&#39;</a><br><a class="trace-frames" data-frame-id="37" href="#">actionpack (4.2.2) lib/action_dispatch/routing/route_set.rb:74:in `dispatch&#39;</a><br><a class="trace-frames" data-frame-id="38" href="#">actionpack (4.2.2) lib/action_dispatch/routing/route_set.rb:43:in `serve&#39;</a><br><a class="trace-frames" data-frame-id="39" href="#">actionpack (4.2.2) lib/action_dispatch/journey/router.rb:43:in `block in serve&#39;</a><br><a class="trace-frames" data-frame-id="40" href="#">actionpack (4.2.2) lib/action_dispatch/journey/router.rb:30:in `each&#39;</a><br><a class="trace-frames" data-frame-id="41" href="#">actionpack (4.2.2) lib/action_dispatch/journey/router.rb:30:in `serve&#39;</a><br><a class="trace-frames" data-frame-id="42" href="#">actionpack (4.2.2) lib/action_dispatch/routing/route_set.rb:819:in `call&#39;</a><br><a class="trace-frames" data-frame-id="43" href="#">rack (1.6.4) lib/rack/etag.rb:24:in `call&#39;</a><br><a class="trace-frames" data-frame-id="44" href="#">rack (1.6.4) lib/rack/conditionalget.rb:38:in `call&#39;</a><br><a class="trace-frames" data-frame-id="45" href="#">rack (1.6.4) lib/rack/head.rb:13:in `call&#39;</a><br><a class="trace-frames" data-frame-id="46" href="#">actionpack (4.2.2) lib/action_dispatch/middleware/params_parser.rb:27:in `call&#39;</a><br><a class="trace-frames" data-frame-id="47" href="#">actionpack (4.2.2) lib/action_dispatch/middleware/flash.rb:260:in `call&#39;</a><br><a class="trace-frames" data-frame-id="48" href="#">rack (1.6.4) lib/rack/session/abstract/id.rb:225:in `context&#39;</a><br><a class="trace-frames" data-frame-id="49" href="#">rack (1.6.4) lib/rack/session/abstract/id.rb:220:in `call&#39;</a><br><a class="trace-frames" data-frame-id="50" href="#">actionpack (4.2.2) lib/action_dispatch/middleware/cookies.rb:560:in `call&#39;</a><br><a class="trace-frames" data-frame-id="51" href="#">activerecord (4.2.2) lib/active_record/query_cache.rb:36:in `call&#39;</a><br><a class="trace-frames" data-frame-id="52" href="#">activerecord (4.2.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:649:in `call&#39;</a><br><a class="trace-frames" data-frame-id="53" href="#">activerecord (4.2.2) lib/active_record/migration.rb:378:in `call&#39;</a><br><a class="trace-frames" data-frame-id="54" href="#">actionpack (4.2.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call&#39;</a><br><a class="trace-frames" data-frame-id="55" href="#">activesupport (4.2.2) lib/active_support/callbacks.rb:88:in `call&#39;</a><br><a class="trace-frames" data-frame-id="56" href="#">activesupport (4.2.2) lib/active_support/callbacks.rb:88:in `_run_callbacks&#39;</a><br><a class="trace-frames" data-frame-id="57" href="#">activesupport (4.2.2) lib/active_support/callbacks.rb:776:in `_run_call_callbacks&#39;</a><br><a class="trace-frames" data-frame-id="58" href="#">activesupport (4.2.2) lib/active_support/callbacks.rb:81:in `run_callbacks&#39;</a><br><a class="trace-frames" data-frame-id="59" href="#">actionpack (4.2.2) lib/action_dispatch/middleware/callbacks.rb:27:in `call&#39;</a><br><a class="trace-frames" data-frame-id="60" href="#">actionpack (4.2.2) lib/action_dispatch/middleware/reloader.rb:73:in `call&#39;</a><br><a class="trace-frames" data-frame-id="61" href="#">actionpack (4.2.2) lib/action_dispatch/middleware/remote_ip.rb:78:in `call&#39;</a><br><a class="trace-frames" data-frame-id="62" href="#">web-console (2.0.0.beta3) lib/action_dispatch/debug_exceptions.rb:18:in `middleware_call&#39;</a><br><a class="trace-frames" data-frame-id="63" href="#">web-console (2.0.0.beta3) lib/action_dispatch/debug_exceptions.rb:13:in `call&#39;</a><br><a class="trace-frames" data-frame-id="64" href="#">actionpack (4.2.2) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call&#39;</a><br><a class="trace-frames" data-frame-id="65" href="#">railties (4.2.2) lib/rails/rack/logger.rb:38:in `call_app&#39;</a><br><a class="trace-frames" data-frame-id="66" href="#">railties (4.2.2) lib/rails/rack/logger.rb:20:in `block in call&#39;</a><br><a class="trace-frames" data-frame-id="67" href="#">activesupport (4.2.2) lib/active_support/tagged_logging.rb:68:in `block in tagged&#39;</a><br><a class="trace-frames" data-frame-id="68" href="#">activesupport (4.2.2) lib/active_support/tagged_logging.rb:26:in `tagged&#39;</a><br><a class="trace-frames" data-frame-id="69" href="#">activesupport (4.2.2) lib/active_support/tagged_logging.rb:68:in `tagged&#39;</a><br><a class="trace-frames" data-frame-id="70" href="#">railties (4.2.2) lib/rails/rack/logger.rb:20:in `call&#39;</a><br><a class="trace-frames" data-frame-id="71" href="#">actionpack (4.2.2) lib/action_dispatch/middleware/request_id.rb:21:in `call&#39;</a><br><a class="trace-frames" data-frame-id="72" href="#">rack (1.6.4) lib/rack/methodoverride.rb:22:in `call&#39;</a><br><a class="trace-frames" data-frame-id="73" href="#">rack (1.6.4) lib/rack/runtime.rb:18:in `call&#39;</a><br><a class="trace-frames" data-frame-id="74" href="#">activesupport (4.2.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call&#39;</a><br><a class="trace-frames" data-frame-id="75" href="#">rack (1.6.4) lib/rack/lock.rb:17:in `call&#39;</a><br><a class="trace-frames" data-frame-id="76" href="#">actionpack (4.2.2) lib/action_dispatch/middleware/static.rb:113:in `call&#39;</a><br><a class="trace-frames" data-frame-id="77" href="#">rack (1.6.4) lib/rack/sendfile.rb:113:in `call&#39;</a><br><a class="trace-frames" data-frame-id="78" href="#">railties (4.2.2) lib/rails/engine.rb:518:in `call&#39;</a><br><a class="trace-frames" data-frame-id="79" href="#">railties (4.2.2) lib/rails/application.rb:164:in `call&#39;</a><br><a class="trace-frames" data-frame-id="80" href="#">rack (1.6.4) lib/rack/lock.rb:17:in `call&#39;</a><br><a class="trace-frames" data-frame-id="81" href="#">rack (1.6.4) lib/rack/content_length.rb:15:in `call&#39;</a><br><a class="trace-frames" data-frame-id="82" href="#">rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service&#39;</a><br><a class="trace-frames" data-frame-id="83" href="#">/home/niki/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service&#39;</a><br><a class="trace-frames" data-frame-id="84" href="#">/home/niki/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run&#39;</a><br><a class="trace-frames" data-frame-id="85" href="#">/home/niki/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread&#39;</a><br></code></pre>
  [1m[35m (0.5ms)[0m  CREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "adevices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "gcm_token" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "devices"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "devices"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "gcm_token" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "adevices"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "adevices"
  [1m[35m (0.3ms)[0m  ALTER TABLE "devices" ADD "worker_id" integer
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_devices_on_worker_id" ON "devices" ("worker_id")[0m
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "devices" ADD "site_id" integer[0m
            WHERE name='index_devices_on_worker_id' AND type='index'
            WHERE name='index_devices_on_worker_id' AND type='index'
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_devices_on_site_id" ON "devices" ("site_id")[0m
            WHERE name='index_devices_on_site_id' AND type='index'
            WHERE name='index_devices_on_site_id' AND type='index'
            WHERE name='index_devices_on_worker_id' AND type='index'
            WHERE name='index_devices_on_worker_id' AND type='index'
Started GET "/assets/device.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for 127.0.0.1 at 2016-06-02 20:14:29 +0300
Started GET "/assets/device.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for 127.0.0.1 at 2016-06-02 20:14:29 +0300
Started GET "/assets/device.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for 127.0.0.1 at 2016-06-02 20:14:38 +0300
Started GET "/assets/device.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for 127.0.0.1 at 2016-06-02 20:14:38 +0300
Started GET "/assets/device.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for 127.0.0.1 at 2016-06-02 20:16:02 +0300
Started GET "/assets/device.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for 127.0.0.1 at 2016-06-02 20:16:02 +0300
Started GET "/assets/device.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for 127.0.0.1 at 2016-06-02 20:16:14 +0300
Started GET "/assets/device.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for 127.0.0.1 at 2016-06-02 20:16:14 +0300
Started GET "/assets/device.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for 127.0.0.1 at 2016-06-02 21:17:51 +0300
Started GET "/assets/device.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for 127.0.0.1 at 2016-06-02 21:17:51 +0300
Started GET "/assets/device.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for 127.0.0.1 at 2016-06-03 12:24:21 +0300
Started GET "/assets/device.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for 127.0.0.1 at 2016-06-03 12:24:21 +0300
Started GET "/assets/device.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for 127.0.0.1 at 2016-06-10 08:42:43 +0300
Started GET "/assets/device.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for 127.0.0.1 at 2016-06-10 08:42:43 +0300
  [1m[36mDevice Load (2.3ms)[0m  [1mSELECT "devices".* FROM "devices"[0m
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=383ee4d3a9caaf817c0f381ce4e183e0" for 91.139.243.106 at 2016-06-10 09:38:34 +0300
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=383ee4d3a9caaf817c0f381ce4e183e0" for 91.139.243.106 at 2016-06-10 09:38:35 +0300
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=383ee4d3a9caaf817c0f381ce4e183e0" for 91.139.243.106 at 2016-06-10 09:39:50 +0300
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=383ee4d3a9caaf817c0f381ce4e183e0" for 91.139.243.106 at 2016-06-10 09:39:50 +0300
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=383ee4d3a9caaf817c0f381ce4e183e0" for 91.139.243.106 at 2016-06-10 09:39:52 +0300
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=383ee4d3a9caaf817c0f381ce4e183e0" for 91.139.243.106 at 2016-06-10 09:39:52 +0300
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=383ee4d3a9caaf817c0f381ce4e183e0" for 91.139.243.106 at 2016-06-10 09:40:04 +0300
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=383ee4d3a9caaf817c0f381ce4e183e0" for 91.139.243.106 at 2016-06-10 09:40:04 +0300
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:40:22 +0300
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started POST "/api/v1/devices?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:40:27 +0300
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "site_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"], ["site_id", 1], ["created_at", "2016-06-10 06:40:27.568234"], ["updated_at", "2016-06-10 06:40:27.568234"]]
  [1m[35mDevice Load (0.4ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.3ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz' AND "devices"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "devices" SET "worker_id" = ?, "updated_at" = ? WHERE "devices"."id" = ?[0m  [["worker_id", 1], ["updated_at", "2016-06-10 06:40:27.909438"], ["id", 1]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:40:28 +0300
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
  [1m[36mDevice Load (14.1ms)[0m  [1mSELECT "devices".* FROM "devices"[0m
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:40:41 +0300
  [1m[36mDevice Load (0.2ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:43:45 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:43:48 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:43:48 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:43:48 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:43:48 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:43:53 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:43:53 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:43:53 +0300
  [1m[36mDevice Load (0.2ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:43:53 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:43:58 +0300
  [1m[36mDevice Load (0.2ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:43:58 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:43:58 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:43:58 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:03 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:03 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:03 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:03 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:08 +0300
  [1m[36mDevice Load (0.2ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:08 +0300
  [1m[36mDevice Load (0.2ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:08 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:08 +0300
  [1m[36mDevice Load (0.2ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:13 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:14 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:14 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:14 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:18 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:18 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:18 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:19 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:23 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:23 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:23 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:23 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:28 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:28 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:28 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:28 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:33 +0300
  [1m[36mDevice Load (0.2ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:33 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:33 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:33 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:38 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:38 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:38 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:38 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:43 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:43 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:43 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:43 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:44:48 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:47:36 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:47:50 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:50:08 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:50:28 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:51:16 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:53:27 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:53:53 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:55:29 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:58:10 +0300
  [1m[36mDevice Load (0.2ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 09:58:26 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:00:19 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:05:06 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:05:22 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:05:58 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:06:55 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:09:58 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:10:50 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:30:48 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:30:56 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:31:12 +0300
  [1m[36mDevice Load (0.3ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:31:14 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:31:36 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:31:51 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:31:53 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:32:01 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:32:02 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:32:17 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:32:19 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:33:02 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:33:04 +0300
  [1m[36mDevice Load (0.2ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:33:06 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:33:11 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:33:15 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:33:18 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:33:37 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:33:39 +0300
  [1m[36mDevice Load (0.2ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:37:32 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:41:34 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:41:36 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:41:41 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:42:20 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:42:22 +0300
  [1m[36mDevice Load (0.2ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:42:26 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:42:39 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz?access_token=4fcae168051e48d2c492d22fa7093558" for 91.139.243.106 at 2016-06-10 10:42:41 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "eey4DmjF5lY:APA91bHWf8EclF4NzvX5LWj4MQAr368A8n9ZeA_YLva7Tk95jIob8zqsXtJiCFD58ZWO9k-TIAm1UlHKCJLcGWk3LtOs8drQN_JMVN_CpRPa0yt8I_NX_8bS7fDox4-WZ2Ia7_RQQUZz"]]
Started GET "/api/v1/devices/dPdC4qOJoBE:APA91bEaREzCLOWhK08P1RRfzaNHIEtwlua6I4kQIr6TXjyisdmW7hxKWL2-sdyvxyLqoVhbDyjH_mmb5XmLK9JGUQJWkD4VODPAJZsAXm0uKxMPwdC5e7KKPqov2Wpe5Onww9VinBrD?access_token=4420d89c2d87d14fea554f23ce58070d" for 91.139.243.106 at 2016-06-14 09:31:41 +0300
  [1m[36mDevice Load (0.2ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "dPdC4qOJoBE:APA91bEaREzCLOWhK08P1RRfzaNHIEtwlua6I4kQIr6TXjyisdmW7hxKWL2-sdyvxyLqoVhbDyjH_mmb5XmLK9JGUQJWkD4VODPAJZsAXm0uKxMPwdC5e7KKPqov2Wpe5Onww9VinBrD"]]
Started GET "/api/v1/devices/dPdC4qOJoBE:APA91bEaREzCLOWhK08P1RRfzaNHIEtwlua6I4kQIr6TXjyisdmW7hxKWL2-sdyvxyLqoVhbDyjH_mmb5XmLK9JGUQJWkD4VODPAJZsAXm0uKxMPwdC5e7KKPqov2Wpe5Onww9VinBrD?access_token=4420d89c2d87d14fea554f23ce58070d" for 91.139.243.106 at 2016-06-14 09:31:56 +0300
  [1m[35mDevice Load (0.2ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1  [["gcm_token", "dPdC4qOJoBE:APA91bEaREzCLOWhK08P1RRfzaNHIEtwlua6I4kQIr6TXjyisdmW7hxKWL2-sdyvxyLqoVhbDyjH_mmb5XmLK9JGUQJWkD4VODPAJZsAXm0uKxMPwdC5e7KKPqov2Wpe5Onww9VinBrD"]]
Started GET "/api/v1/devices/dPdC4qOJoBE:APA91bEaREzCLOWhK08P1RRfzaNHIEtwlua6I4kQIr6TXjyisdmW7hxKWL2-sdyvxyLqoVhbDyjH_mmb5XmLK9JGUQJWkD4VODPAJZsAXm0uKxMPwdC5e7KKPqov2Wpe5Onww9VinBrD?access_token=4420d89c2d87d14fea554f23ce58070d" for 91.139.243.106 at 2016-06-14 09:33:53 +0300
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1  [["gcm_token", "dPdC4qOJoBE:APA91bEaREzCLOWhK08P1RRfzaNHIEtwlua6I4kQIr6TXjyisdmW7hxKWL2-sdyvxyLqoVhbDyjH_mmb5XmLK9JGUQJWkD4VODPAJZsAXm0uKxMPwdC5e7KKPqov2Wpe5Onww9VinBrD"]]
Started GET "/api/v1/devices/dPdC4qOJoBE:APA91bEaREzCLOWhK08P1RRfzaNHIEtwlua6I4kQIr6TXjyisdmW7hxKWL2-sdyvxyLqoVhbDyjH_mmb5XmLK9JGUQJWkD4VODPAJZsAXm0uKxMPwdC5e7KKPqov2Wpe5Onww9VinBrD?access_token=4420d89c2d87d14fea554f23ce58070d" for 91.139.243.106 at 2016-06-14 09:33:53 +0300
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1  [["gcm_token", "dPdC4qOJoBE:APA91bEaREzCLOWhK08P1RRfzaNHIEtwlua6I4kQIr6TXjyisdmW7hxKWL2-sdyvxyLqoVhbDyjH_mmb5XmLK9JGUQJWkD4VODPAJZsAXm0uKxMPwdC5e7KKPqov2Wpe5Onww9VinBrD"]]
            WHERE name='index_devices_on_site_id' AND type='index'
            WHERE name='index_devices_on_site_id' AND type='index'
            WHERE name='index_devices_on_worker_id' AND type='index'
            WHERE name='index_devices_on_worker_id' AND type='index'
  [1m[35m (233.0ms)[0m  CREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "gcm_token" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "worker_id" integer, "site_id" integer) 
  [1m[36m (377.1ms)[0m  [1mCREATE  INDEX "index_devices_on_site_id" ON "devices" ("site_id")[0m
            WHERE name='index_devices_on_site_id' AND type='index'
            WHERE name='index_devices_on_site_id' AND type='index'
  [1m[36m (244.3ms)[0m  [1mCREATE  INDEX "index_devices_on_worker_id" ON "devices" ("worker_id")[0m
  [1m[35m (210.6ms)[0m  CREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "gcm_token" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "worker_id" integer, "site_id" integer) 
  [1m[36m (256.2ms)[0m  [1mCREATE  INDEX "index_devices_on_site_id" ON "devices" ("site_id")[0m
            WHERE name='index_devices_on_site_id' AND type='index'
            WHERE name='index_devices_on_site_id' AND type='index'
  [1m[36m (233.2ms)[0m  [1mCREATE  INDEX "index_devices_on_worker_id" ON "devices" ("worker_id")[0m
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "devices"[0m
  [1m[35m (321.3ms)[0m  CREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "gcm_token" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "worker_id" integer, "site_id" integer) 
  [1m[36m (289.0ms)[0m  [1mCREATE  INDEX "index_devices_on_site_id" ON "devices" ("site_id")[0m
            WHERE name='index_devices_on_site_id' AND type='index'
            WHERE name='index_devices_on_site_id' AND type='index'
  [1m[36m (233.1ms)[0m  [1mCREATE  INDEX "index_devices_on_worker_id" ON "devices" ("worker_id")[0m
  [1m[36m (317.3ms)[0m  [1mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "gcm_token" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "worker_id" integer, "site_id" integer) [0m
  [1m[35m (256.1ms)[0m  CREATE  INDEX "index_devices_on_site_id" ON "devices" ("site_id")
            WHERE name='index_devices_on_site_id' AND type='index'
            WHERE name='index_devices_on_site_id' AND type='index'
  [1m[35m (300.4ms)[0m  CREATE  INDEX "index_devices_on_worker_id" ON "devices" ("worker_id")
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "devices"[0m
  [1m[35m (187.4ms)[0m  CREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "gcm_token" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "worker_id" integer, "site_id" integer) 
  [1m[36m (321.1ms)[0m  [1mCREATE  INDEX "index_devices_on_site_id" ON "devices" ("site_id")[0m
            WHERE name='index_devices_on_site_id' AND type='index'
            WHERE name='index_devices_on_site_id' AND type='index'
  [1m[36m (198.7ms)[0m  [1mCREATE  INDEX "index_devices_on_worker_id" ON "devices" ("worker_id")[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "devices"[0m
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:08:43.249732"], ["updated_at", "2016-05-28 07:08:43.249732"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:08:43.698040"], ["updated_at", "2016-05-28 07:08:43.698040"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:08:43.722244"], ["updated_at", "2016-05-28 07:08:43.722244"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:08:43.755894"], ["updated_at", "2016-05-28 07:08:43.755894"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:08:43.778687"], ["updated_at", "2016-05-28 07:08:43.778687"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:08:43.800731"], ["updated_at", "2016-05-28 07:08:43.800731"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:08:43.862674"], ["updated_at", "2016-05-28 07:08:43.862674"]]
ApiTest: test_device_registration_returns_error_on_inexistent_site
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:08:43.928955"], ["updated_at", "2016-05-28 07:08:43.928955"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-05-28 10:08:43 +0300
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
ApiTest: test_device_registration_returns_error_on_wrong_names/password_combination
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:08:43.981101"], ["updated_at", "2016-05-28 07:08:43.981101"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-05-28 10:08:44 +0300
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:08:44.034587"], ["updated_at", "2016-05-28 07:08:44.034587"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:08:44.076926"], ["updated_at", "2016-05-28 07:08:44.076926"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:08:44.124250"], ["updated_at", "2016-05-28 07:08:44.124250"]]
ApiTest: test_registers_device
  [1m[36mDevice Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:08:44.160657"], ["updated_at", "2016-05-28 07:08:44.160657"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-05-28 10:08:44 +0300
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "site_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["site_id", 980190963], ["created_at", "2016-05-28 07:08:44.195377"], ["updated_at", "2016-05-28 07:08:44.195377"]]
  [1m[36mDevice Load (0.2ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 2) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "devices" SET "worker_id" = ?, "updated_at" = ? WHERE "devices"."id" = ?  [["worker_id", 1], ["updated_at", "2016-05-28 07:08:44.205333"], ["id", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
  [1m[36mDevice Load (0.2ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:08:44.234390"], ["updated_at", "2016-05-28 07:08:44.234390"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:08:44.288325"], ["updated_at", "2016-05-28 07:08:44.288325"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:08:44.337589"], ["updated_at", "2016-05-28 07:08:44.337589"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:08:44.383509"], ["updated_at", "2016-05-28 07:08:44.383509"]]
ApiTest: test_checks_device_login_status
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:08:44.418299"], ["updated_at", "2016-05-28 07:08:44.418299"]]
Started GET "/api/v1/devices/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb?access_token=c2988f5f8ec2d1a44df323647b02dcc5" for 127.0.0.1 at 2016-05-28 10:08:44 +0300
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"]]
Started GET "/api/v1/devices/cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc?access_token=721d76ebc6179b99efac11da94b5a7a7" for 127.0.0.1 at 2016-05-28 10:08:44 +0300
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1  [["gcm_token", "cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc"]]
ApiTest: test_device_signout_returns_error_on_nonexistent_device
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:08:44.463937"], ["updated_at", "2016-05-28 07:08:44.463937"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
Started DELETE "/api/v1/devices/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbba" for 127.0.0.1 at 2016-05-28 10:08:44 +0300
  [1m[36mDevice Load (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbba"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
ApiTest: test_device_signs_out
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:08:44.497766"], ["updated_at", "2016-05-28 07:08:44.497766"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
Started DELETE "/api/v1/devices/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb" for 127.0.0.1 at 2016-05-28 10:08:44 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "devices" WHERE "devices"."id" = ?  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:08:44.532649"], ["updated_at", "2016-05-28 07:08:44.532649"]]
ApiTest: test_device_registration_requires_parameters
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:08:44.564316"], ["updated_at", "2016-05-28 07:08:44.564316"]]
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-05-28 10:08:44 +0300
ApiTest: test_device_registration_returns_error_on_invalid_names
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:08:44.601453"], ["updated_at", "2016-05-28 07:08:44.601453"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-05-28 10:08:44 +0300
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
  [1m[36mDevice Load (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-05-28 07:08:45.208631"], ["updated_at", "2016-05-28 07:08:45.208631"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-05-28 07:08:45.221870"], ["updated_at", "2016-05-28 07:08:45.221870"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-05-28 07:08:45.236444"], ["updated_at", "2016-05-28 07:08:45.236444"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = '' AND "devices"."id" != 1) LIMIT 1
DeviceTest: test_device_belongs_to_correct_site
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-05-28 07:08:45.251120"], ["updated_at", "2016-05-28 07:08:45.251120"]]
DeviceTest: test_device_belongs_to_correct_worker
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-05-28 07:08:45.263586"], ["updated_at", "2016-05-28 07:08:45.263586"]]
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "devices"[0m
  [1m[36mDevice Load (0.2ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-05-28 07:10:13.297780"], ["updated_at", "2016-05-28 07:10:13.297780"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-05-28 07:10:13.311597"], ["updated_at", "2016-05-28 07:10:13.311597"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
DeviceTest: test_device_belongs_to_correct_site
  [1m[36mDevice Load (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-05-28 07:10:13.324753"], ["updated_at", "2016-05-28 07:10:13.324753"]]
DeviceTest: test_device_belongs_to_correct_worker
  [1m[36mDevice Load (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-05-28 07:10:13.335725"], ["updated_at", "2016-05-28 07:10:13.335725"]]
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-05-28 07:10:13.347891"], ["updated_at", "2016-05-28 07:10:13.347891"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = '' AND "devices"."id" != 1) LIMIT 1
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:13.877529"], ["updated_at", "2016-05-28 07:10:13.877529"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:14.011881"], ["updated_at", "2016-05-28 07:10:14.011881"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:14.042535"], ["updated_at", "2016-05-28 07:10:14.042535"]]
ApiTest: test_device_registration_returns_error_on_inexistent_site
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:14.087281"], ["updated_at", "2016-05-28 07:10:14.087281"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-05-28 10:10:14 +0300
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
ApiTest: test_device_registration_returns_error_on_invalid_names
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:14.128441"], ["updated_at", "2016-05-28 07:10:14.128441"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-05-28 10:10:14 +0300
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
ApiTest: test_device_signs_out
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:14.162490"], ["updated_at", "2016-05-28 07:10:14.162490"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
Started DELETE "/api/v1/devices/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb" for 127.0.0.1 at 2016-05-28 10:10:14 +0300
  [1m[36mDevice Load (0.2ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "devices" WHERE "devices"."id" = ?  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
ApiTest: test_device_registration_requires_parameters
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:14.196561"], ["updated_at", "2016-05-28 07:10:14.196561"]]
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-05-28 10:10:14 +0300
ApiTest: test_device_signout_returns_error_on_nonexistent_device
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:14.232005"], ["updated_at", "2016-05-28 07:10:14.232005"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
Started DELETE "/api/v1/devices/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbba" for 127.0.0.1 at 2016-05-28 10:10:14 +0300
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbba"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:14.273933"], ["updated_at", "2016-05-28 07:10:14.273933"]]
ApiTest: test_checks_device_login_status
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:14.322046"], ["updated_at", "2016-05-28 07:10:14.322046"]]
Started GET "/api/v1/devices/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb?access_token=cd99826057e30ef2dec4cafb618d3e71" for 127.0.0.1 at 2016-05-28 10:10:14 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"]]
Started GET "/api/v1/devices/cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc?access_token=809b13d9d2f531ea917c4aab7e974c72" for 127.0.0.1 at 2016-05-28 10:10:14 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:14.381090"], ["updated_at", "2016-05-28 07:10:14.381090"]]
ApiTest: test_registers_device
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:14.428269"], ["updated_at", "2016-05-28 07:10:14.428269"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-05-28 10:10:14 +0300
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "site_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["site_id", 980190963], ["created_at", "2016-05-28 07:10:14.461841"], ["updated_at", "2016-05-28 07:10:14.461841"]]
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 2) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "devices" SET "worker_id" = ?, "updated_at" = ? WHERE "devices"."id" = ?[0m  [["worker_id", 1], ["updated_at", "2016-05-28 07:10:14.466339"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:14.495602"], ["updated_at", "2016-05-28 07:10:14.495602"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:14.543247"], ["updated_at", "2016-05-28 07:10:14.543247"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:14.569937"], ["updated_at", "2016-05-28 07:10:14.569937"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:14.612054"], ["updated_at", "2016-05-28 07:10:14.612054"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:14.647891"], ["updated_at", "2016-05-28 07:10:14.647891"]]
ApiTest: test_device_registration_returns_error_on_wrong_names/password_combination
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:14.696485"], ["updated_at", "2016-05-28 07:10:14.696485"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-05-28 10:10:14 +0300
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:14.748874"], ["updated_at", "2016-05-28 07:10:14.748874"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:14.788081"], ["updated_at", "2016-05-28 07:10:14.788081"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:14.824445"], ["updated_at", "2016-05-28 07:10:14.824445"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:14.871919"], ["updated_at", "2016-05-28 07:10:14.871919"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:14.905506"], ["updated_at", "2016-05-28 07:10:14.905506"]]
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "devices"[0m
  [1m[36mDevice Load (0.2ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-05-28 07:10:45.601137"], ["updated_at", "2016-05-28 07:10:45.601137"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = '' AND "devices"."id" != 1) LIMIT 1
DeviceTest: test_device_belongs_to_correct_worker
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-05-28 07:10:45.614997"], ["updated_at", "2016-05-28 07:10:45.614997"]]
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-05-28 07:10:45.625581"], ["updated_at", "2016-05-28 07:10:45.625581"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
  [1m[36mDevice Load (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-05-28 07:10:45.637322"], ["updated_at", "2016-05-28 07:10:45.637322"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1
DeviceTest: test_device_belongs_to_correct_site
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-05-28 07:10:45.648589"], ["updated_at", "2016-05-28 07:10:45.648589"]]
ApiTest: test_device_registration_returns_error_on_inexistent_site
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:45.683627"], ["updated_at", "2016-05-28 07:10:45.683627"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-05-28 10:10:45 +0300
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
ApiTest: test_device_signout_returns_error_on_nonexistent_device
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:45.815438"], ["updated_at", "2016-05-28 07:10:45.815438"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
Started DELETE "/api/v1/devices/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbba" for 127.0.0.1 at 2016-05-28 10:10:45 +0300
  [1m[35mDevice Load (0.3ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbba"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:45.852651"], ["updated_at", "2016-05-28 07:10:45.852651"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:45.884875"], ["updated_at", "2016-05-28 07:10:45.884875"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:45.937341"], ["updated_at", "2016-05-28 07:10:45.937341"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:45.998245"], ["updated_at", "2016-05-28 07:10:45.998245"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:46.034150"], ["updated_at", "2016-05-28 07:10:46.034150"]]
ApiTest: test_registers_device
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:46.067995"], ["updated_at", "2016-05-28 07:10:46.067995"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-05-28 10:10:46 +0300
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "site_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["site_id", 980190963], ["created_at", "2016-05-28 07:10:46.105385"], ["updated_at", "2016-05-28 07:10:46.105385"]]
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 2) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "devices" SET "worker_id" = ?, "updated_at" = ? WHERE "devices"."id" = ?[0m  [["worker_id", 1], ["updated_at", "2016-05-28 07:10:46.111040"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:46.137107"], ["updated_at", "2016-05-28 07:10:46.137107"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:46.164953"], ["updated_at", "2016-05-28 07:10:46.164953"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:46.187119"], ["updated_at", "2016-05-28 07:10:46.187119"]]
ApiTest: test_checks_device_login_status
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:46.216340"], ["updated_at", "2016-05-28 07:10:46.216340"]]
Started GET "/api/v1/devices/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb?access_token=c41d444d6678a46532e8ac5931e090b8" for 127.0.0.1 at 2016-05-28 10:10:46 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"]]
Started GET "/api/v1/devices/cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc?access_token=e99b58c98e9429c4cfb512036b6d81b4" for 127.0.0.1 at 2016-05-28 10:10:46 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc"]]
ApiTest: test_device_registration_returns_error_on_wrong_names/password_combination
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:46.271799"], ["updated_at", "2016-05-28 07:10:46.271799"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-05-28 10:10:46 +0300
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:46.319325"], ["updated_at", "2016-05-28 07:10:46.319325"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:46.364985"], ["updated_at", "2016-05-28 07:10:46.364985"]]
  [1m[36mDevice Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:46.411459"], ["updated_at", "2016-05-28 07:10:46.411459"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:46.450054"], ["updated_at", "2016-05-28 07:10:46.450054"]]
ApiTest: test_device_registration_requires_parameters
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:46.502249"], ["updated_at", "2016-05-28 07:10:46.502249"]]
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-05-28 10:10:46 +0300
ApiTest: test_device_registration_returns_error_on_invalid_names
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:46.556699"], ["updated_at", "2016-05-28 07:10:46.556699"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-05-28 10:10:46 +0300
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:46.607758"], ["updated_at", "2016-05-28 07:10:46.607758"]]
  [1m[36mDevice Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:46.655145"], ["updated_at", "2016-05-28 07:10:46.655145"]]
ApiTest: test_device_signs_out
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:10:46.704592"], ["updated_at", "2016-05-28 07:10:46.704592"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
Started DELETE "/api/v1/devices/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb" for 127.0.0.1 at 2016-05-28 10:10:46 +0300
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "devices" WHERE "devices"."id" = ?[0m  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "devices"[0m
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.5ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-05-28 07:20:07.140624"], ["updated_at", "2016-05-28 07:20:07.140624"]]
  [1m[36mDevice Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = '' AND "devices"."id" != 1) LIMIT 1[0m
DeviceTest: test_device_belongs_to_correct_worker
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-05-28 07:20:07.440119"], ["updated_at", "2016-05-28 07:20:07.440119"]]
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-05-28 07:20:07.450862"], ["updated_at", "2016-05-28 07:20:07.450862"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1
DeviceTest: test_device_belongs_to_correct_site
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-05-28 07:20:07.462848"], ["updated_at", "2016-05-28 07:20:07.462848"]]
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-05-28 07:20:07.473750"], ["updated_at", "2016-05-28 07:20:07.473750"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:20:08.157851"], ["updated_at", "2016-05-28 07:20:08.157851"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:20:08.288494"], ["updated_at", "2016-05-28 07:20:08.288494"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:20:08.318232"], ["updated_at", "2016-05-28 07:20:08.318232"]]
ApiTest: test_device_registration_returns_error_on_inexistent_site
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:20:08.341303"], ["updated_at", "2016-05-28 07:20:08.341303"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-05-28 10:20:08 +0300
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:20:08.388906"], ["updated_at", "2016-05-28 07:20:08.388906"]]
ApiTest: test_checks_device_login_status
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:20:08.418649"], ["updated_at", "2016-05-28 07:20:08.418649"]]
Started GET "/api/v1/devices/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb?access_token=b977666206c7010908b302406f74924f" for 127.0.0.1 at 2016-05-28 10:20:08 +0300
  [1m[36mDevice Load (0.2ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"]]
Started GET "/api/v1/devices/cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc?access_token=233ef6a2306a8a2dc57312726dc20feb" for 127.0.0.1 at 2016-05-28 10:20:08 +0300
  [1m[36mDevice Load (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:20:08.467099"], ["updated_at", "2016-05-28 07:20:08.467099"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:20:08.509951"], ["updated_at", "2016-05-28 07:20:08.509951"]]
ApiTest: test_registers_device
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:20:08.545930"], ["updated_at", "2016-05-28 07:20:08.545930"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-05-28 10:20:08 +0300
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "site_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["site_id", 980190963], ["created_at", "2016-05-28 07:20:08.573466"], ["updated_at", "2016-05-28 07:20:08.573466"]]
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 2) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "devices" SET "worker_id" = ?, "updated_at" = ? WHERE "devices"."id" = ?[0m  [["worker_id", 1], ["updated_at", "2016-05-28 07:20:08.576682"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:20:08.597686"], ["updated_at", "2016-05-28 07:20:08.597686"]]
ApiTest: test_device_signout_returns_error_on_nonexistent_device
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:20:08.634866"], ["updated_at", "2016-05-28 07:20:08.634866"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
Started DELETE "/api/v1/devices/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbba" for 127.0.0.1 at 2016-05-28 10:20:08 +0300
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbba"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:20:08.668447"], ["updated_at", "2016-05-28 07:20:08.668447"]]
ApiTest: test_device_signs_out
  [1m[36mDevice Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:20:08.708825"], ["updated_at", "2016-05-28 07:20:08.708825"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
Started DELETE "/api/v1/devices/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb" for 127.0.0.1 at 2016-05-28 10:20:08 +0300
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "devices" WHERE "devices"."id" = ?[0m  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:20:08.743889"], ["updated_at", "2016-05-28 07:20:08.743889"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:20:08.777182"], ["updated_at", "2016-05-28 07:20:08.777182"]]
ApiTest: test_device_registration_returns_error_on_invalid_names
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:20:08.799742"], ["updated_at", "2016-05-28 07:20:08.799742"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-05-28 10:20:08 +0300
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:20:08.832511"], ["updated_at", "2016-05-28 07:20:08.832511"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:20:08.865164"], ["updated_at", "2016-05-28 07:20:08.865164"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:20:08.898030"], ["updated_at", "2016-05-28 07:20:08.898030"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:20:08.930150"], ["updated_at", "2016-05-28 07:20:08.930150"]]
ApiTest: test_device_registration_requires_parameters
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:20:08.954674"], ["updated_at", "2016-05-28 07:20:08.954674"]]
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-05-28 10:20:08 +0300
ApiTest: test_device_registration_returns_error_on_wrong_names/password_combination
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-05-28 07:20:08.989203"], ["updated_at", "2016-05-28 07:20:08.989203"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-05-28 10:20:09 +0300
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "devices"[0m
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 17:13:42.524281"], ["updated_at", "2016-06-02 17:13:42.524281"]]
ApiTest: test_checks_device_login_status
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 17:13:43.301023"], ["updated_at", "2016-06-02 17:13:43.301023"]]
Started GET "/api/v1/devices/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb?access_token=3469efecd145768a8da8bdd433f26aec" for 127.0.0.1 at 2016-06-02 20:13:43 +0300
  [1m[36mDevice Load (0.2ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"]]
Started GET "/api/v1/devices/cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc?access_token=a0991d2845be73772e6f6a3f37ac2f71" for 127.0.0.1 at 2016-06-02 20:13:43 +0300
  [1m[36mDevice Load (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc"]]
ApiTest: test_device_registration_returns_error_on_inexistent_site
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 17:13:43.379478"], ["updated_at", "2016-06-02 17:13:43.379478"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-06-02 20:13:43 +0300
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 17:13:43.586690"], ["updated_at", "2016-06-02 17:13:43.586690"]]
ApiTest: test_device_registration_requires_parameters
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 17:13:43.625474"], ["updated_at", "2016-06-02 17:13:43.625474"]]
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-06-02 20:13:43 +0300
ApiTest: test_registers_device
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 17:13:44.950160"], ["updated_at", "2016-06-02 17:13:44.950160"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-06-02 20:13:44 +0300
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "site_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["site_id", 980190963], ["created_at", "2016-06-02 17:13:44.986277"], ["updated_at", "2016-06-02 17:13:44.986277"]]
  [1m[35mDevice Load (0.2ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "devices" SET "worker_id" = ?, "updated_at" = ? WHERE "devices"."id" = ?[0m  [["worker_id", 1], ["updated_at", "2016-06-02 17:13:44.995410"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"]]
  [1m[35mDevice Exists (0.3ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 17:13:45.020447"], ["updated_at", "2016-06-02 17:13:45.020447"]]
ApiTest: test_device_registration_returns_error_on_invalid_names
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 17:13:45.048777"], ["updated_at", "2016-06-02 17:13:45.048777"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-06-02 20:13:45 +0300
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
  [1m[35mDevice Exists (0.5ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 17:13:45.090402"], ["updated_at", "2016-06-02 17:13:45.090402"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 17:13:45.163099"], ["updated_at", "2016-06-02 17:13:45.163099"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 17:13:45.204901"], ["updated_at", "2016-06-02 17:13:45.204901"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 17:13:45.246234"], ["updated_at", "2016-06-02 17:13:45.246234"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 17:13:45.280374"], ["updated_at", "2016-06-02 17:13:45.280374"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 17:13:45.311013"], ["updated_at", "2016-06-02 17:13:45.311013"]]
ApiTest: test_device_signs_out
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 17:13:45.358683"], ["updated_at", "2016-06-02 17:13:45.358683"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
Started DELETE "/api/v1/devices/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb" for 127.0.0.1 at 2016-06-02 20:13:45 +0300
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "devices" WHERE "devices"."id" = ?[0m  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 17:13:45.393125"], ["updated_at", "2016-06-02 17:13:45.393125"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 17:13:45.421040"], ["updated_at", "2016-06-02 17:13:45.421040"]]
ApiTest: test_device_signout_returns_error_on_nonexistent_device
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 17:13:45.456881"], ["updated_at", "2016-06-02 17:13:45.456881"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
Started DELETE "/api/v1/devices/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbba" for 127.0.0.1 at 2016-06-02 20:13:45 +0300
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbba"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 17:13:45.487159"], ["updated_at", "2016-06-02 17:13:45.487159"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 17:13:45.509115"], ["updated_at", "2016-06-02 17:13:45.509115"]]
ApiTest: test_device_registration_returns_error_on_wrong_names/password_combination
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 17:13:45.538067"], ["updated_at", "2016-06-02 17:13:45.538067"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-06-02 20:13:45 +0300
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 17:13:45.579103"], ["updated_at", "2016-06-02 17:13:45.579103"]]
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-02 17:13:48.010787"], ["updated_at", "2016-06-02 17:13:48.010787"]]
  [1m[36mDevice Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
  [1m[36mDevice Load (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-02 17:13:48.026153"], ["updated_at", "2016-06-02 17:13:48.026153"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = '' AND "devices"."id" != 1) LIMIT 1
DeviceTest: test_device_belongs_to_correct_worker
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-02 17:13:48.038133"], ["updated_at", "2016-06-02 17:13:48.038133"]]
DeviceTest: test_device_belongs_to_correct_site
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-02 17:13:48.048420"], ["updated_at", "2016-06-02 17:13:48.048420"]]
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-02 17:13:48.061438"], ["updated_at", "2016-06-02 17:13:48.061438"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "devices"[0m
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-02 18:17:35.384940"], ["updated_at", "2016-06-02 18:17:35.384940"]]
  [1m[36mDevice Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-02 18:17:35.733701"], ["updated_at", "2016-06-02 18:17:35.733701"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = '' AND "devices"."id" != 1) LIMIT 1
DeviceTest: test_device_belongs_to_correct_worker
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-02 18:17:35.759111"], ["updated_at", "2016-06-02 18:17:35.759111"]]
DeviceTest: test_device_belongs_to_correct_site
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-02 18:17:35.776020"], ["updated_at", "2016-06-02 18:17:35.776020"]]
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-02 18:17:35.792038"], ["updated_at", "2016-06-02 18:17:35.792038"]]
  [1m[36mDevice Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 18:17:36.059028"], ["updated_at", "2016-06-02 18:17:36.059028"]]
  [1m[36mDevice Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 18:17:36.247188"], ["updated_at", "2016-06-02 18:17:36.247188"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 18:17:36.329227"], ["updated_at", "2016-06-02 18:17:36.329227"]]
ApiTest: test_checks_device_login_status
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 18:17:36.371122"], ["updated_at", "2016-06-02 18:17:36.371122"]]
Started GET "/api/v1/devices/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb?access_token=ce5b80dcfada5a68c61cbac69e7af0b4" for 127.0.0.1 at 2016-06-02 21:17:36 +0300
  [1m[36mDevice Load (0.6ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"]]
Started GET "/api/v1/devices/cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc?access_token=d33ff51252524b2d66754c370b007896" for 127.0.0.1 at 2016-06-02 21:17:36 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 18:17:36.431413"], ["updated_at", "2016-06-02 18:17:36.431413"]]
ApiTest: test_device_registration_returns_error_on_inexistent_site
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 18:17:36.488060"], ["updated_at", "2016-06-02 18:17:36.488060"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-06-02 21:17:36 +0300
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 18:17:36.527207"], ["updated_at", "2016-06-02 18:17:36.527207"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 18:17:36.565248"], ["updated_at", "2016-06-02 18:17:36.565248"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 18:17:36.590219"], ["updated_at", "2016-06-02 18:17:36.590219"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 18:17:36.630122"], ["updated_at", "2016-06-02 18:17:36.630122"]]
ApiTest: test_device_registration_returns_error_on_invalid_names
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 18:17:36.659342"], ["updated_at", "2016-06-02 18:17:36.659342"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-06-02 21:17:36 +0300
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
ApiTest: test_device_registration_returns_error_on_wrong_names/password_combination
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 18:17:36.698635"], ["updated_at", "2016-06-02 18:17:36.698635"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-06-02 21:17:36 +0300
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
ApiTest: test_device_signout_returns_error_on_nonexistent_device
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 18:17:36.735913"], ["updated_at", "2016-06-02 18:17:36.735913"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
Started DELETE "/api/v1/devices/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbba" for 127.0.0.1 at 2016-06-02 21:17:36 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbba"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
ApiTest: test_device_signs_out
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 18:17:36.773709"], ["updated_at", "2016-06-02 18:17:36.773709"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
Started DELETE "/api/v1/devices/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb" for 127.0.0.1 at 2016-06-02 21:17:36 +0300
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "devices" WHERE "devices"."id" = ?  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "devices"
ApiTest: test_registers_device
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 18:17:36.820753"], ["updated_at", "2016-06-02 18:17:36.820753"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-06-02 21:17:36 +0300
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "site_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["site_id", 980190963], ["created_at", "2016-06-02 18:17:36.847451"], ["updated_at", "2016-06-02 18:17:36.847451"]]
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 2) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "devices" SET "worker_id" = ?, "updated_at" = ? WHERE "devices"."id" = ?[0m  [["worker_id", 1], ["updated_at", "2016-06-02 18:17:36.851027"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."gcm_token" = ? LIMIT 1  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 18:17:36.873025"], ["updated_at", "2016-06-02 18:17:36.873025"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 18:17:36.901214"], ["updated_at", "2016-06-02 18:17:36.901214"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 18:17:36.937759"], ["updated_at", "2016-06-02 18:17:36.937759"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 18:17:36.975606"], ["updated_at", "2016-06-02 18:17:36.975606"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 18:17:37.013807"], ["updated_at", "2016-06-02 18:17:37.013807"]]
ApiTest: test_device_registration_requires_parameters
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 18:17:37.047443"], ["updated_at", "2016-06-02 18:17:37.047443"]]
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-06-02 21:17:37 +0300
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-02 18:17:37.086334"], ["updated_at", "2016-06-02 18:17:37.086334"]]
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "devices"[0m
ApiTest: test_device_registration_returns_error_on_invalid_names
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:39:37.426024"], ["updated_at", "2016-06-14 06:39:37.426024"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-06-14 09:39:37 +0300
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:39:37.552017"], ["updated_at", "2016-06-14 06:39:37.552017"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:39:37.706798"], ["updated_at", "2016-06-14 06:39:37.706798"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:39:37.734302"], ["updated_at", "2016-06-14 06:39:37.734302"]]
ApiTest: test_device_signout_returns_error_on_nonexistent_device
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:39:37.792241"], ["updated_at", "2016-06-14 06:39:37.792241"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
Started DELETE "/api/v1/devices/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbba" for 127.0.0.1 at 2016-06-14 09:39:37 +0300
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:39:37.837509"], ["updated_at", "2016-06-14 06:39:37.837509"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:39:37.907279"], ["updated_at", "2016-06-14 06:39:37.907279"]]
ApiTest: test_device_registration_requires_parameters
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:39:39.434526"], ["updated_at", "2016-06-14 06:39:39.434526"]]
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-06-14 09:39:39 +0300
ApiTest: test_registers_device
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:39:39.468587"], ["updated_at", "2016-06-14 06:39:39.468587"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-06-14 09:39:39 +0300
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:39:39.508424"], ["updated_at", "2016-06-14 06:39:39.508424"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:39:39.556052"], ["updated_at", "2016-06-14 06:39:39.556052"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:39:39.610509"], ["updated_at", "2016-06-14 06:39:39.610509"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:39:39.648212"], ["updated_at", "2016-06-14 06:39:39.648212"]]
ApiTest: test_device_registration_returns_error_on_wrong_names/password_combination
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:39:39.690487"], ["updated_at", "2016-06-14 06:39:39.690487"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-06-14 09:39:39 +0300
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:39:39.725562"], ["updated_at", "2016-06-14 06:39:39.725562"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:39:39.748158"], ["updated_at", "2016-06-14 06:39:39.748158"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:39:39.771895"], ["updated_at", "2016-06-14 06:39:39.771895"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:39:39.806154"], ["updated_at", "2016-06-14 06:39:39.806154"]]
ApiTest: test_checks_device_login_status
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:39:39.838503"], ["updated_at", "2016-06-14 06:39:39.838503"]]
Started GET "/api/v1/devices/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb?access_token=1b46cf0d1e018307b1adbdeeeac33eca" for 127.0.0.1 at 2016-06-14 09:39:39 +0300
ApiTest: test_device_signs_out
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:39:39.872826"], ["updated_at", "2016-06-14 06:39:39.872826"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "devices"[0m
Started DELETE "/api/v1/devices/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb" for 127.0.0.1 at 2016-06-14 09:39:39 +0300
ApiTest: test_device_registration_returns_error_on_inexistent_site
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:39:39.909237"], ["updated_at", "2016-06-14 06:39:39.909237"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "devices"
Started POST "/api/v1/devices" for 127.0.0.1 at 2016-06-14 09:39:39 +0300
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:39:39.940598"], ["updated_at", "2016-06-14 06:39:39.940598"]]
DeviceTest: test_device_belongs_to_correct_site
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:39:42.339669"], ["updated_at", "2016-06-14 06:39:42.339669"]]
  [1m[36mDevice Load (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:39:42.351775"], ["updated_at", "2016-06-14 06:39:42.351775"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1
DeviceTest: test_device_belongs_to_correct_worker
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:39:42.363262"], ["updated_at", "2016-06-14 06:39:42.363262"]]
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:39:42.374271"], ["updated_at", "2016-06-14 06:39:42.374271"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
  [1m[36mDevice Load (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:39:42.387005"], ["updated_at", "2016-06-14 06:39:42.387005"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = '' AND "devices"."id" != 1) LIMIT 1
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "devices"[0m
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:41:02.869206"], ["updated_at", "2016-06-14 06:41:02.869206"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:41:02.987288"], ["updated_at", "2016-06-14 06:41:02.987288"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:41:03.020275"], ["updated_at", "2016-06-14 06:41:03.020275"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:41:03.056741"], ["updated_at", "2016-06-14 06:41:03.056741"]]
  [1m[35mDevice Exists (0.3ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:41:03.094100"], ["updated_at", "2016-06-14 06:41:03.094100"]]
  [1m[36mDevice Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:41:03.150231"], ["updated_at", "2016-06-14 06:41:03.150231"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:41:03.195985"], ["updated_at", "2016-06-14 06:41:03.195985"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:41:03.249193"], ["updated_at", "2016-06-14 06:41:03.249193"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:41:03.299323"], ["updated_at", "2016-06-14 06:41:03.299323"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:41:03.349259"], ["updated_at", "2016-06-14 06:41:03.349259"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:41:03.393462"], ["updated_at", "2016-06-14 06:41:03.393462"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:41:03.440210"], ["updated_at", "2016-06-14 06:41:03.440210"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:41:03.497986"], ["updated_at", "2016-06-14 06:41:03.497986"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:41:03.541060"], ["updated_at", "2016-06-14 06:41:03.541060"]]
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:41:03.581245"], ["updated_at", "2016-06-14 06:41:03.581245"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:41:03.599066"], ["updated_at", "2016-06-14 06:41:03.599066"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = '' AND "devices"."id" != 1) LIMIT 1
DeviceTest: test_device_belongs_to_correct_worker
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:41:03.616348"], ["updated_at", "2016-06-14 06:41:03.616348"]]
DeviceTest: test_device_belongs_to_correct_site
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:41:03.631383"], ["updated_at", "2016-06-14 06:41:03.631383"]]
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:41:03.645996"], ["updated_at", "2016-06-14 06:41:03.645996"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "devices"[0m
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:47:53.781140"], ["updated_at", "2016-06-14 06:47:53.781140"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
DeviceTest: test_device_belongs_to_correct_site
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:47:54.143224"], ["updated_at", "2016-06-14 06:47:54.143224"]]
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:47:54.161508"], ["updated_at", "2016-06-14 06:47:54.161508"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1
DeviceTest: test_device_belongs_to_correct_worker
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:47:54.180249"], ["updated_at", "2016-06-14 06:47:54.180249"]]
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:47:54.200344"], ["updated_at", "2016-06-14 06:47:54.200344"]]
  [1m[36mDevice Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = '' AND "devices"."id" != 1) LIMIT 1[0m
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:47:54.952640"], ["updated_at", "2016-06-14 06:47:54.952640"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:47:55.075099"], ["updated_at", "2016-06-14 06:47:55.075099"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:47:55.115619"], ["updated_at", "2016-06-14 06:47:55.115619"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:47:55.141873"], ["updated_at", "2016-06-14 06:47:55.141873"]]
  [1m[36mDevice Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:47:55.166825"], ["updated_at", "2016-06-14 06:47:55.166825"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:47:55.206915"], ["updated_at", "2016-06-14 06:47:55.206915"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:47:55.233372"], ["updated_at", "2016-06-14 06:47:55.233372"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:47:55.269703"], ["updated_at", "2016-06-14 06:47:55.269703"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:47:55.291897"], ["updated_at", "2016-06-14 06:47:55.291897"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:47:55.330442"], ["updated_at", "2016-06-14 06:47:55.330442"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:47:55.361864"], ["updated_at", "2016-06-14 06:47:55.361864"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:47:55.393007"], ["updated_at", "2016-06-14 06:47:55.393007"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:47:55.423865"], ["updated_at", "2016-06-14 06:47:55.423865"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:47:55.454635"], ["updated_at", "2016-06-14 06:47:55.454635"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:47:55.489855"], ["updated_at", "2016-06-14 06:47:55.489855"]]
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "devices"[0m
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:51:25.088281"], ["updated_at", "2016-06-14 06:51:25.088281"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = '' AND "devices"."id" != 1) LIMIT 1[0m
DeviceTest: test_device_belongs_to_correct_site
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:51:25.103432"], ["updated_at", "2016-06-14 06:51:25.103432"]]
DeviceTest: test_device_belongs_to_correct_worker
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:51:25.114889"], ["updated_at", "2016-06-14 06:51:25.114889"]]
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:51:25.126021"], ["updated_at", "2016-06-14 06:51:25.126021"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:51:25.138477"], ["updated_at", "2016-06-14 06:51:25.138477"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:25.166344"], ["updated_at", "2016-06-14 06:51:25.166344"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:25.262596"], ["updated_at", "2016-06-14 06:51:25.262596"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:25.309009"], ["updated_at", "2016-06-14 06:51:25.309009"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:25.344594"], ["updated_at", "2016-06-14 06:51:25.344594"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:25.383302"], ["updated_at", "2016-06-14 06:51:25.383302"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:25.423369"], ["updated_at", "2016-06-14 06:51:25.423369"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:25.459729"], ["updated_at", "2016-06-14 06:51:25.459729"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:25.494449"], ["updated_at", "2016-06-14 06:51:25.494449"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:25.528045"], ["updated_at", "2016-06-14 06:51:25.528045"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:25.559928"], ["updated_at", "2016-06-14 06:51:25.559928"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:25.592135"], ["updated_at", "2016-06-14 06:51:25.592135"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:25.614965"], ["updated_at", "2016-06-14 06:51:25.614965"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:25.653694"], ["updated_at", "2016-06-14 06:51:25.653694"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:25.681507"], ["updated_at", "2016-06-14 06:51:25.681507"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:25.718890"], ["updated_at", "2016-06-14 06:51:25.718890"]]
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "devices"[0m
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:41.449841"], ["updated_at", "2016-06-14 06:51:41.449841"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:41.860530"], ["updated_at", "2016-06-14 06:51:41.860530"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:41.953995"], ["updated_at", "2016-06-14 06:51:41.953995"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:42.000774"], ["updated_at", "2016-06-14 06:51:42.000774"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:42.044274"], ["updated_at", "2016-06-14 06:51:42.044274"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:42.096592"], ["updated_at", "2016-06-14 06:51:42.096592"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:42.126140"], ["updated_at", "2016-06-14 06:51:42.126140"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:42.167497"], ["updated_at", "2016-06-14 06:51:42.167497"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:42.199990"], ["updated_at", "2016-06-14 06:51:42.199990"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:42.291240"], ["updated_at", "2016-06-14 06:51:42.291240"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:42.340385"], ["updated_at", "2016-06-14 06:51:42.340385"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:42.381574"], ["updated_at", "2016-06-14 06:51:42.381574"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:42.413441"], ["updated_at", "2016-06-14 06:51:42.413441"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:42.452564"], ["updated_at", "2016-06-14 06:51:42.452564"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:51:42.499611"], ["updated_at", "2016-06-14 06:51:42.499611"]]
  [1m[36mDevice Load (0.2ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:51:42.997462"], ["updated_at", "2016-06-14 06:51:42.997462"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = '' AND "devices"."id" != 1) LIMIT 1
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:51:43.011990"], ["updated_at", "2016-06-14 06:51:43.011990"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
DeviceTest: test_device_belongs_to_correct_site
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:51:43.024842"], ["updated_at", "2016-06-14 06:51:43.024842"]]
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:51:43.038410"], ["updated_at", "2016-06-14 06:51:43.038410"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1
DeviceTest: test_device_belongs_to_correct_worker
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:51:43.051212"], ["updated_at", "2016-06-14 06:51:43.051212"]]
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "devices"[0m
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:52:25.255231"], ["updated_at", "2016-06-14 06:52:25.255231"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
  [1m[36mDevice Load (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:52:25.269570"], ["updated_at", "2016-06-14 06:52:25.269570"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = '' AND "devices"."id" != 1) LIMIT 1
DeviceTest: test_device_belongs_to_correct_site
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:52:25.640164"], ["updated_at", "2016-06-14 06:52:25.640164"]]
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:52:25.651487"], ["updated_at", "2016-06-14 06:52:25.651487"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
DeviceTest: test_device_belongs_to_correct_worker
  [1m[36mDevice Load (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:52:25.664981"], ["updated_at", "2016-06-14 06:52:25.664981"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:26.055848"], ["updated_at", "2016-06-14 06:52:26.055848"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:26.172860"], ["updated_at", "2016-06-14 06:52:26.172860"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:26.210593"], ["updated_at", "2016-06-14 06:52:26.210593"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:26.241432"], ["updated_at", "2016-06-14 06:52:26.241432"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:26.267741"], ["updated_at", "2016-06-14 06:52:26.267741"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:26.304921"], ["updated_at", "2016-06-14 06:52:26.304921"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:26.343527"], ["updated_at", "2016-06-14 06:52:26.343527"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:26.369902"], ["updated_at", "2016-06-14 06:52:26.369902"]]
  [1m[35mDevice Exists (0.5ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:26.407142"], ["updated_at", "2016-06-14 06:52:26.407142"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:26.457100"], ["updated_at", "2016-06-14 06:52:26.457100"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:26.490803"], ["updated_at", "2016-06-14 06:52:26.490803"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:26.525036"], ["updated_at", "2016-06-14 06:52:26.525036"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:26.561087"], ["updated_at", "2016-06-14 06:52:26.561087"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:26.584982"], ["updated_at", "2016-06-14 06:52:26.584982"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:26.614866"], ["updated_at", "2016-06-14 06:52:26.614866"]]
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "devices"[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:44.957905"], ["updated_at", "2016-06-14 06:52:44.957905"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:45.096904"], ["updated_at", "2016-06-14 06:52:45.096904"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:45.202734"], ["updated_at", "2016-06-14 06:52:45.202734"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:45.242905"], ["updated_at", "2016-06-14 06:52:45.242905"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:45.302611"], ["updated_at", "2016-06-14 06:52:45.302611"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:45.349219"], ["updated_at", "2016-06-14 06:52:45.349219"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:45.397768"], ["updated_at", "2016-06-14 06:52:45.397768"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:45.439426"], ["updated_at", "2016-06-14 06:52:45.439426"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:45.466762"], ["updated_at", "2016-06-14 06:52:45.466762"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:45.508654"], ["updated_at", "2016-06-14 06:52:45.508654"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:45.540692"], ["updated_at", "2016-06-14 06:52:45.540692"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:45.589782"], ["updated_at", "2016-06-14 06:52:45.589782"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:45.612715"], ["updated_at", "2016-06-14 06:52:45.612715"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:45.649864"], ["updated_at", "2016-06-14 06:52:45.649864"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:45.687165"], ["updated_at", "2016-06-14 06:52:45.687165"]]
  [1m[35mDevice Load (0.2ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:52:46.041114"], ["updated_at", "2016-06-14 06:52:46.041114"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = '' AND "devices"."id" != 1) LIMIT 1[0m
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:52:46.055458"], ["updated_at", "2016-06-14 06:52:46.055458"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:52:46.068120"], ["updated_at", "2016-06-14 06:52:46.068120"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
DeviceTest: test_device_belongs_to_correct_site
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:52:46.080547"], ["updated_at", "2016-06-14 06:52:46.080547"]]
DeviceTest: test_device_belongs_to_correct_worker
  [1m[36mDevice Load (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:52:46.091940"], ["updated_at", "2016-06-14 06:52:46.091940"]]
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "devices"[0m
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:52:59.977388"], ["updated_at", "2016-06-14 06:52:59.977388"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:53:00.091265"], ["updated_at", "2016-06-14 06:53:00.091265"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:53:00.470962"], ["updated_at", "2016-06-14 06:53:00.470962"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:53:00.567363"], ["updated_at", "2016-06-14 06:53:00.567363"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:53:00.621002"], ["updated_at", "2016-06-14 06:53:00.621002"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:53:00.705026"], ["updated_at", "2016-06-14 06:53:00.705026"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:53:00.765573"], ["updated_at", "2016-06-14 06:53:00.765573"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:53:00.810987"], ["updated_at", "2016-06-14 06:53:00.810987"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:53:00.871696"], ["updated_at", "2016-06-14 06:53:00.871696"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:53:00.935583"], ["updated_at", "2016-06-14 06:53:00.935583"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:53:00.970832"], ["updated_at", "2016-06-14 06:53:00.970832"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:53:01.022912"], ["updated_at", "2016-06-14 06:53:01.022912"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:53:01.055957"], ["updated_at", "2016-06-14 06:53:01.055957"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:53:01.096389"], ["updated_at", "2016-06-14 06:53:01.096389"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:53:01.140886"], ["updated_at", "2016-06-14 06:53:01.140886"]]
  [1m[36mDevice Load (0.2ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:53:01.424058"], ["updated_at", "2016-06-14 06:53:01.424058"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = '' AND "devices"."id" != 1) LIMIT 1
DeviceTest: test_device_belongs_to_correct_site
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:53:01.444510"], ["updated_at", "2016-06-14 06:53:01.444510"]]
DeviceTest: test_device_belongs_to_correct_worker
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:53:01.460768"], ["updated_at", "2016-06-14 06:53:01.460768"]]
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:53:01.476694"], ["updated_at", "2016-06-14 06:53:01.476694"]]
  [1m[36mDevice Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:53:01.498926"], ["updated_at", "2016-06-14 06:53:01.498926"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "devices"[0m
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:55:19.266183"], ["updated_at", "2016-06-14 06:55:19.266183"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:55:19.377082"], ["updated_at", "2016-06-14 06:55:19.377082"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:55:19.434686"], ["updated_at", "2016-06-14 06:55:19.434686"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:55:19.489110"], ["updated_at", "2016-06-14 06:55:19.489110"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:55:19.534881"], ["updated_at", "2016-06-14 06:55:19.534881"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:55:19.565398"], ["updated_at", "2016-06-14 06:55:19.565398"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:55:19.588841"], ["updated_at", "2016-06-14 06:55:19.588841"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:55:19.853709"], ["updated_at", "2016-06-14 06:55:19.853709"]]
  [1m[36mDevice Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:55:19.893497"], ["updated_at", "2016-06-14 06:55:19.893497"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:55:19.934688"], ["updated_at", "2016-06-14 06:55:19.934688"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:55:19.978054"], ["updated_at", "2016-06-14 06:55:19.978054"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:55:20.017976"], ["updated_at", "2016-06-14 06:55:20.017976"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:55:20.044080"], ["updated_at", "2016-06-14 06:55:20.044080"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:55:20.068099"], ["updated_at", "2016-06-14 06:55:20.068099"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:55:20.117478"], ["updated_at", "2016-06-14 06:55:20.117478"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:55:20.151391"], ["updated_at", "2016-06-14 06:55:20.151391"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:55:20.183826"], ["updated_at", "2016-06-14 06:55:20.183826"]]
  [1m[36mDevice Load (0.2ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:55:20.486074"], ["updated_at", "2016-06-14 06:55:20.486074"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1
DeviceTest: test_device_belongs_to_correct_worker
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:55:20.503747"], ["updated_at", "2016-06-14 06:55:20.503747"]]
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:55:20.515980"], ["updated_at", "2016-06-14 06:55:20.515980"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
  [1m[36mDevice Load (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:55:20.529134"], ["updated_at", "2016-06-14 06:55:20.529134"]]
  [1m[35mDevice Exists (1.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = '' AND "devices"."id" != 1) LIMIT 1
DeviceTest: test_device_belongs_to_correct_site
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:55:20.544854"], ["updated_at", "2016-06-14 06:55:20.544854"]]
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "devices"[0m
  [1m[35mDevice Exists (0.4ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:56:11.367845"], ["updated_at", "2016-06-14 06:56:11.367845"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:56:11.501560"], ["updated_at", "2016-06-14 06:56:11.501560"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:56:11.530292"], ["updated_at", "2016-06-14 06:56:11.530292"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:56:11.597026"], ["updated_at", "2016-06-14 06:56:11.597026"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:56:11.631645"], ["updated_at", "2016-06-14 06:56:11.631645"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:56:11.665854"], ["updated_at", "2016-06-14 06:56:11.665854"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:56:11.703581"], ["updated_at", "2016-06-14 06:56:11.703581"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:56:11.733591"], ["updated_at", "2016-06-14 06:56:11.733591"]]
  [1m[36mDevice Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:56:11.795771"], ["updated_at", "2016-06-14 06:56:11.795771"]]
  [1m[36mDevice Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:56:11.843214"], ["updated_at", "2016-06-14 06:56:11.843214"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:56:11.878977"], ["updated_at", "2016-06-14 06:56:11.878977"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:56:11.917523"], ["updated_at", "2016-06-14 06:56:11.917523"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:56:11.957095"], ["updated_at", "2016-06-14 06:56:11.957095"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:56:12.003808"], ["updated_at", "2016-06-14 06:56:12.003808"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:56:12.053038"], ["updated_at", "2016-06-14 06:56:12.053038"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:56:12.088130"], ["updated_at", "2016-06-14 06:56:12.088130"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:56:12.134531"], ["updated_at", "2016-06-14 06:56:12.134531"]]
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:56:12.401602"], ["updated_at", "2016-06-14 06:56:12.401602"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1
DeviceTest: test_device_belongs_to_correct_worker
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:56:12.415871"], ["updated_at", "2016-06-14 06:56:12.415871"]]
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:56:12.426968"], ["updated_at", "2016-06-14 06:56:12.426968"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
  [1m[36mDevice Load (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:56:12.438533"], ["updated_at", "2016-06-14 06:56:12.438533"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = '' AND "devices"."id" != 1) LIMIT 1
DeviceTest: test_device_belongs_to_correct_site
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:56:12.451657"], ["updated_at", "2016-06-14 06:56:12.451657"]]
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "devices"[0m
DeviceTest: test_device_belongs_to_correct_site
  [1m[36mDevice Load (0.2ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:57:52.678507"], ["updated_at", "2016-06-14 06:57:52.678507"]]
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:57:52.691843"], ["updated_at", "2016-06-14 06:57:52.691843"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:57:52.706189"], ["updated_at", "2016-06-14 06:57:52.706189"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = '' AND "devices"."id" != 1) LIMIT 1[0m
  [1m[36mDevice Load (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:57:52.720222"], ["updated_at", "2016-06-14 06:57:52.720222"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1
DeviceTest: test_device_belongs_to_correct_worker
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:57:52.732497"], ["updated_at", "2016-06-14 06:57:52.732497"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:57:52.997374"], ["updated_at", "2016-06-14 06:57:52.997374"]]
  [1m[36mDevice Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:57:53.147589"], ["updated_at", "2016-06-14 06:57:53.147589"]]
  [1m[35mDevice Exists (0.3ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:57:53.212533"], ["updated_at", "2016-06-14 06:57:53.212533"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:57:53.257206"], ["updated_at", "2016-06-14 06:57:53.257206"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:57:53.307366"], ["updated_at", "2016-06-14 06:57:53.307366"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:57:53.347458"], ["updated_at", "2016-06-14 06:57:53.347458"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:57:53.396125"], ["updated_at", "2016-06-14 06:57:53.396125"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:57:53.437148"], ["updated_at", "2016-06-14 06:57:53.437148"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:57:53.468390"], ["updated_at", "2016-06-14 06:57:53.468390"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:57:53.501229"], ["updated_at", "2016-06-14 06:57:53.501229"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:57:53.535797"], ["updated_at", "2016-06-14 06:57:53.535797"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:57:53.564561"], ["updated_at", "2016-06-14 06:57:53.564561"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:57:53.602751"], ["updated_at", "2016-06-14 06:57:53.602751"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:57:53.626445"], ["updated_at", "2016-06-14 06:57:53.626445"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:57:53.658082"], ["updated_at", "2016-06-14 06:57:53.658082"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:57:53.695142"], ["updated_at", "2016-06-14 06:57:53.695142"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:57:53.733859"], ["updated_at", "2016-06-14 06:57:53.733859"]]
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "devices"[0m
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:58:18.170456"], ["updated_at", "2016-06-14 06:58:18.170456"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:58:18.309857"], ["updated_at", "2016-06-14 06:58:18.309857"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:58:18.364338"], ["updated_at", "2016-06-14 06:58:18.364338"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:58:18.402343"], ["updated_at", "2016-06-14 06:58:18.402343"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:58:18.444420"], ["updated_at", "2016-06-14 06:58:18.444420"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:58:18.470981"], ["updated_at", "2016-06-14 06:58:18.470981"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:58:18.536936"], ["updated_at", "2016-06-14 06:58:18.536936"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:58:18.572183"], ["updated_at", "2016-06-14 06:58:18.572183"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:58:18.595208"], ["updated_at", "2016-06-14 06:58:18.595208"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:58:18.629385"], ["updated_at", "2016-06-14 06:58:18.629385"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:58:18.666040"], ["updated_at", "2016-06-14 06:58:18.666040"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:58:18.700821"], ["updated_at", "2016-06-14 06:58:18.700821"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:58:18.738432"], ["updated_at", "2016-06-14 06:58:18.738432"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:58:18.774498"], ["updated_at", "2016-06-14 06:58:18.774498"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:58:18.807325"], ["updated_at", "2016-06-14 06:58:18.807325"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:58:18.832640"], ["updated_at", "2016-06-14 06:58:18.832640"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:58:18.870657"], ["updated_at", "2016-06-14 06:58:18.870657"]]
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:58:19.343165"], ["updated_at", "2016-06-14 06:58:19.343165"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
  [1m[36mDevice Load (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:58:19.359510"], ["updated_at", "2016-06-14 06:58:19.359510"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = '' AND "devices"."id" != 1) LIMIT 1
DeviceTest: test_device_belongs_to_correct_site
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:58:19.374315"], ["updated_at", "2016-06-14 06:58:19.374315"]]
DeviceTest: test_device_belongs_to_correct_worker
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:58:19.386295"], ["updated_at", "2016-06-14 06:58:19.386295"]]
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:58:19.398394"], ["updated_at", "2016-06-14 06:58:19.398394"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "devices"[0m
  [1m[36mDevice Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:02.040666"], ["updated_at", "2016-06-14 06:59:02.040666"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:02.205819"], ["updated_at", "2016-06-14 06:59:02.205819"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:02.254977"], ["updated_at", "2016-06-14 06:59:02.254977"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:02.350950"], ["updated_at", "2016-06-14 06:59:02.350950"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:02.397682"], ["updated_at", "2016-06-14 06:59:02.397682"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:02.450997"], ["updated_at", "2016-06-14 06:59:02.450997"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:02.503349"], ["updated_at", "2016-06-14 06:59:02.503349"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:02.553891"], ["updated_at", "2016-06-14 06:59:02.553891"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:02.606191"], ["updated_at", "2016-06-14 06:59:02.606191"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:02.655532"], ["updated_at", "2016-06-14 06:59:02.655532"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:02.707894"], ["updated_at", "2016-06-14 06:59:02.707894"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:02.749190"], ["updated_at", "2016-06-14 06:59:02.749190"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:02.801424"], ["updated_at", "2016-06-14 06:59:02.801424"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:02.834128"], ["updated_at", "2016-06-14 06:59:02.834128"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:02.881999"], ["updated_at", "2016-06-14 06:59:02.881999"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:02.913931"], ["updated_at", "2016-06-14 06:59:02.913931"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:02.948502"], ["updated_at", "2016-06-14 06:59:02.948502"]]
  [1m[35mDevice Load (0.2ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:59:03.318680"], ["updated_at", "2016-06-14 06:59:03.318680"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:59:03.349537"], ["updated_at", "2016-06-14 06:59:03.349537"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = '' AND "devices"."id" != 1) LIMIT 1
DeviceTest: test_device_belongs_to_correct_site
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:59:03.367248"], ["updated_at", "2016-06-14 06:59:03.367248"]]
DeviceTest: test_device_belongs_to_correct_worker
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:59:03.381414"], ["updated_at", "2016-06-14 06:59:03.381414"]]
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:59:03.395787"], ["updated_at", "2016-06-14 06:59:03.395787"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "devices"[0m
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:44.192252"], ["updated_at", "2016-06-14 06:59:44.192252"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:44.327397"], ["updated_at", "2016-06-14 06:59:44.327397"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:44.408570"], ["updated_at", "2016-06-14 06:59:44.408570"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:44.772406"], ["updated_at", "2016-06-14 06:59:44.772406"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:44.816444"], ["updated_at", "2016-06-14 06:59:44.816444"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:44.842625"], ["updated_at", "2016-06-14 06:59:44.842625"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:44.865740"], ["updated_at", "2016-06-14 06:59:44.865740"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:44.895934"], ["updated_at", "2016-06-14 06:59:44.895934"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:44.933225"], ["updated_at", "2016-06-14 06:59:44.933225"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:44.971864"], ["updated_at", "2016-06-14 06:59:44.971864"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:45.006741"], ["updated_at", "2016-06-14 06:59:45.006741"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:45.059660"], ["updated_at", "2016-06-14 06:59:45.059660"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:45.083308"], ["updated_at", "2016-06-14 06:59:45.083308"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:45.117169"], ["updated_at", "2016-06-14 06:59:45.117169"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:45.151716"], ["updated_at", "2016-06-14 06:59:45.151716"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:45.187928"], ["updated_at", "2016-06-14 06:59:45.187928"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 06:59:45.220372"], ["updated_at", "2016-06-14 06:59:45.220372"]]
  [1m[36mDevice Load (0.2ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:59:45.253547"], ["updated_at", "2016-06-14 06:59:45.253547"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1
DeviceTest: test_device_belongs_to_correct_site
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:59:45.268924"], ["updated_at", "2016-06-14 06:59:45.268924"]]
DeviceTest: test_device_belongs_to_correct_worker
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:59:45.283450"], ["updated_at", "2016-06-14 06:59:45.283450"]]
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:59:45.298800"], ["updated_at", "2016-06-14 06:59:45.298800"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 06:59:45.315716"], ["updated_at", "2016-06-14 06:59:45.315716"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = '' AND "devices"."id" != 1) LIMIT 1
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "devices"[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:09.601805"], ["updated_at", "2016-06-14 07:00:09.601805"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:09.744180"], ["updated_at", "2016-06-14 07:00:09.744180"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:09.795265"], ["updated_at", "2016-06-14 07:00:09.795265"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:09.830102"], ["updated_at", "2016-06-14 07:00:09.830102"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:09.869912"], ["updated_at", "2016-06-14 07:00:09.869912"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:09.904792"], ["updated_at", "2016-06-14 07:00:09.904792"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:09.930946"], ["updated_at", "2016-06-14 07:00:09.930946"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:09.955204"], ["updated_at", "2016-06-14 07:00:09.955204"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:09.990359"], ["updated_at", "2016-06-14 07:00:09.990359"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:10.022466"], ["updated_at", "2016-06-14 07:00:10.022466"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:10.077407"], ["updated_at", "2016-06-14 07:00:10.077407"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:10.109206"], ["updated_at", "2016-06-14 07:00:10.109206"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:10.146862"], ["updated_at", "2016-06-14 07:00:10.146862"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:10.186477"], ["updated_at", "2016-06-14 07:00:10.186477"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:10.219102"], ["updated_at", "2016-06-14 07:00:10.219102"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:10.251647"], ["updated_at", "2016-06-14 07:00:10.251647"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:10.276739"], ["updated_at", "2016-06-14 07:00:10.276739"]]
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:00:10.333656"], ["updated_at", "2016-06-14 07:00:10.333656"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = '' AND "devices"."id" != 1) LIMIT 1[0m
DeviceTest: test_device_belongs_to_correct_site
  [1m[36mDevice Load (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:00:10.347592"], ["updated_at", "2016-06-14 07:00:10.347592"]]
DeviceTest: test_device_belongs_to_correct_worker
  [1m[36mDevice Load (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:00:10.358489"], ["updated_at", "2016-06-14 07:00:10.358489"]]
  [1m[36mDevice Load (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:00:10.369516"], ["updated_at", "2016-06-14 07:00:10.369516"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:00:10.381983"], ["updated_at", "2016-06-14 07:00:10.381983"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "devices"[0m
DeviceTest: test_device_belongs_to_correct_site
  [1m[36mDevice Load (0.2ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:00:29.253962"], ["updated_at", "2016-06-14 07:00:29.253962"]]
DeviceTest: test_device_belongs_to_correct_worker
  [1m[36mDevice Load (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:00:29.266960"], ["updated_at", "2016-06-14 07:00:29.266960"]]
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:00:29.280421"], ["updated_at", "2016-06-14 07:00:29.280421"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = '' AND "devices"."id" != 1) LIMIT 1
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:00:29.295078"], ["updated_at", "2016-06-14 07:00:29.295078"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
  [1m[36mDevice Load (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:00:29.316878"], ["updated_at", "2016-06-14 07:00:29.316878"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:29.375375"], ["updated_at", "2016-06-14 07:00:29.375375"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:29.568624"], ["updated_at", "2016-06-14 07:00:29.568624"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:29.616635"], ["updated_at", "2016-06-14 07:00:29.616635"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:29.663012"], ["updated_at", "2016-06-14 07:00:29.663012"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:29.694903"], ["updated_at", "2016-06-14 07:00:29.694903"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:29.739530"], ["updated_at", "2016-06-14 07:00:29.739530"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:29.771494"], ["updated_at", "2016-06-14 07:00:29.771494"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:29.794327"], ["updated_at", "2016-06-14 07:00:29.794327"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:29.828039"], ["updated_at", "2016-06-14 07:00:29.828039"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:29.852546"], ["updated_at", "2016-06-14 07:00:29.852546"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:29.890261"], ["updated_at", "2016-06-14 07:00:29.890261"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:29.929646"], ["updated_at", "2016-06-14 07:00:29.929646"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:29.966340"], ["updated_at", "2016-06-14 07:00:29.966340"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:29.996318"], ["updated_at", "2016-06-14 07:00:29.996318"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:30.031167"], ["updated_at", "2016-06-14 07:00:30.031167"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:30.080727"], ["updated_at", "2016-06-14 07:00:30.080727"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:30.127138"], ["updated_at", "2016-06-14 07:00:30.127138"]]
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "devices"[0m
DeviceTest: test_device_belongs_to_correct_worker
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:00:46.760396"], ["updated_at", "2016-06-14 07:00:46.760396"]]
DeviceTest: test_device_belongs_to_correct_site
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:00:46.772909"], ["updated_at", "2016-06-14 07:00:46.772909"]]
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:00:46.783960"], ["updated_at", "2016-06-14 07:00:46.783960"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
  [1m[36mDevice Load (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:00:47.084153"], ["updated_at", "2016-06-14 07:00:47.084153"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = '' AND "devices"."id" != 1) LIMIT 1
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:00:47.098419"], ["updated_at", "2016-06-14 07:00:47.098419"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:47.345920"], ["updated_at", "2016-06-14 07:00:47.345920"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:47.472442"], ["updated_at", "2016-06-14 07:00:47.472442"]]
  [1m[36mDevice Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:47.526313"], ["updated_at", "2016-06-14 07:00:47.526313"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:47.627343"], ["updated_at", "2016-06-14 07:00:47.627343"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:47.702791"], ["updated_at", "2016-06-14 07:00:47.702791"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:47.756493"], ["updated_at", "2016-06-14 07:00:47.756493"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:47.827785"], ["updated_at", "2016-06-14 07:00:47.827785"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:47.866671"], ["updated_at", "2016-06-14 07:00:47.866671"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:47.917419"], ["updated_at", "2016-06-14 07:00:47.917419"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:47.968074"], ["updated_at", "2016-06-14 07:00:47.968074"]]
  [1m[36mDevice Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:48.008150"], ["updated_at", "2016-06-14 07:00:48.008150"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:48.054261"], ["updated_at", "2016-06-14 07:00:48.054261"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:48.101378"], ["updated_at", "2016-06-14 07:00:48.101378"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:48.142110"], ["updated_at", "2016-06-14 07:00:48.142110"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:48.168426"], ["updated_at", "2016-06-14 07:00:48.168426"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:48.203223"], ["updated_at", "2016-06-14 07:00:48.203223"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:00:48.238500"], ["updated_at", "2016-06-14 07:00:48.238500"]]
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "devices"[0m
DeviceTest: test_device_belongs_to_correct_site
  [1m[36mDevice Load (0.2ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:01:08.383900"], ["updated_at", "2016-06-14 07:01:08.383900"]]
  [1m[36mDevice Load (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:01:08.396578"], ["updated_at", "2016-06-14 07:01:08.396578"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = '' AND "devices"."id" != 1) LIMIT 1
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:01:08.410795"], ["updated_at", "2016-06-14 07:01:08.410795"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:01:08.423788"], ["updated_at", "2016-06-14 07:01:08.423788"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1
DeviceTest: test_device_belongs_to_correct_worker
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:01:08.436044"], ["updated_at", "2016-06-14 07:01:08.436044"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:08.572033"], ["updated_at", "2016-06-14 07:01:08.572033"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:08.665853"], ["updated_at", "2016-06-14 07:01:08.665853"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:08.724349"], ["updated_at", "2016-06-14 07:01:08.724349"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:08.771592"], ["updated_at", "2016-06-14 07:01:08.771592"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:08.802797"], ["updated_at", "2016-06-14 07:01:08.802797"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:08.841337"], ["updated_at", "2016-06-14 07:01:08.841337"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:08.872187"], ["updated_at", "2016-06-14 07:01:08.872187"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:08.897488"], ["updated_at", "2016-06-14 07:01:08.897488"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:08.932732"], ["updated_at", "2016-06-14 07:01:08.932732"]]
  [1m[36mDevice Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:08.975457"], ["updated_at", "2016-06-14 07:01:08.975457"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:09.014649"], ["updated_at", "2016-06-14 07:01:09.014649"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:09.057885"], ["updated_at", "2016-06-14 07:01:09.057885"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:09.104336"], ["updated_at", "2016-06-14 07:01:09.104336"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:09.142096"], ["updated_at", "2016-06-14 07:01:09.142096"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:09.189798"], ["updated_at", "2016-06-14 07:01:09.189798"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:09.235915"], ["updated_at", "2016-06-14 07:01:09.235915"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:09.280112"], ["updated_at", "2016-06-14 07:01:09.280112"]]
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "devices"[0m
  [1m[36mDevice Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:36.171368"], ["updated_at", "2016-06-14 07:01:36.171368"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:36.396748"], ["updated_at", "2016-06-14 07:01:36.396748"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:36.469362"], ["updated_at", "2016-06-14 07:01:36.469362"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:36.548201"], ["updated_at", "2016-06-14 07:01:36.548201"]]
  [1m[36mDevice Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:36.612683"], ["updated_at", "2016-06-14 07:01:36.612683"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:36.657465"], ["updated_at", "2016-06-14 07:01:36.657465"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:36.710875"], ["updated_at", "2016-06-14 07:01:36.710875"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:36.756218"], ["updated_at", "2016-06-14 07:01:36.756218"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:36.821841"], ["updated_at", "2016-06-14 07:01:36.821841"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:36.870575"], ["updated_at", "2016-06-14 07:01:36.870575"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:36.908491"], ["updated_at", "2016-06-14 07:01:36.908491"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:36.947458"], ["updated_at", "2016-06-14 07:01:36.947458"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:36.989676"], ["updated_at", "2016-06-14 07:01:36.989676"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:37.021695"], ["updated_at", "2016-06-14 07:01:37.021695"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:37.053267"], ["updated_at", "2016-06-14 07:01:37.053267"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:37.085067"], ["updated_at", "2016-06-14 07:01:37.085067"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:01:37.117976"], ["updated_at", "2016-06-14 07:01:37.117976"]]
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:01:37.149053"], ["updated_at", "2016-06-14 07:01:37.149053"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
  [1m[36mDevice Load (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:01:37.162080"], ["updated_at", "2016-06-14 07:01:37.162080"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1
DeviceTest: test_device_belongs_to_correct_worker
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:01:37.174952"], ["updated_at", "2016-06-14 07:01:37.174952"]]
  [1m[35mDevice Load (0.0ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:01:37.185384"], ["updated_at", "2016-06-14 07:01:37.185384"]]
  [1m[36mDevice Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = '' AND "devices"."id" != 1) LIMIT 1[0m
DeviceTest: test_device_belongs_to_correct_site
  [1m[36mDevice Load (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:01:37.199459"], ["updated_at", "2016-06-14 07:01:37.199459"]]
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "devices"[0m
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:03:06.486210"], ["updated_at", "2016-06-14 07:03:06.486210"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1
  [1m[35mDevice Load (0.4ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.4ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:03:06.840044"], ["updated_at", "2016-06-14 07:03:06.840044"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = '' AND "devices"."id" != 1) LIMIT 1[0m
DeviceTest: test_device_belongs_to_correct_site
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:03:06.857303"], ["updated_at", "2016-06-14 07:03:06.857303"]]
DeviceTest: test_device_belongs_to_correct_worker
  [1m[36mDevice Load (0.0ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:03:06.870298"], ["updated_at", "2016-06-14 07:03:06.870298"]]
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:03:06.883616"], ["updated_at", "2016-06-14 07:03:06.883616"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:07.479172"], ["updated_at", "2016-06-14 07:03:07.479172"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:07.622691"], ["updated_at", "2016-06-14 07:03:07.622691"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:07.675520"], ["updated_at", "2016-06-14 07:03:07.675520"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:07.901459"], ["updated_at", "2016-06-14 07:03:07.901459"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:07.944146"], ["updated_at", "2016-06-14 07:03:07.944146"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:08.172482"], ["updated_at", "2016-06-14 07:03:08.172482"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:08.197667"], ["updated_at", "2016-06-14 07:03:08.197667"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:08.222546"], ["updated_at", "2016-06-14 07:03:08.222546"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:08.259874"], ["updated_at", "2016-06-14 07:03:08.259874"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:08.383215"], ["updated_at", "2016-06-14 07:03:08.383215"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:08.421937"], ["updated_at", "2016-06-14 07:03:08.421937"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:08.465790"], ["updated_at", "2016-06-14 07:03:08.465790"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:08.516309"], ["updated_at", "2016-06-14 07:03:08.516309"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:08.551121"], ["updated_at", "2016-06-14 07:03:08.551121"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:08.577249"], ["updated_at", "2016-06-14 07:03:08.577249"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:08.602119"], ["updated_at", "2016-06-14 07:03:08.602119"]]
  [1m[36mDevice Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:08.650544"], ["updated_at", "2016-06-14 07:03:08.650544"]]
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "devices"[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:22.437690"], ["updated_at", "2016-06-14 07:03:22.437690"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:22.585158"], ["updated_at", "2016-06-14 07:03:22.585158"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:22.623903"], ["updated_at", "2016-06-14 07:03:22.623903"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:22.674873"], ["updated_at", "2016-06-14 07:03:22.674873"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:22.706128"], ["updated_at", "2016-06-14 07:03:22.706128"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:22.738978"], ["updated_at", "2016-06-14 07:03:22.738978"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:22.769421"], ["updated_at", "2016-06-14 07:03:22.769421"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:22.801799"], ["updated_at", "2016-06-14 07:03:22.801799"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:22.840306"], ["updated_at", "2016-06-14 07:03:22.840306"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:22.863859"], ["updated_at", "2016-06-14 07:03:22.863859"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:22.895889"], ["updated_at", "2016-06-14 07:03:22.895889"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:22.930731"], ["updated_at", "2016-06-14 07:03:22.930731"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:22.960170"], ["updated_at", "2016-06-14 07:03:22.960170"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:22.986808"], ["updated_at", "2016-06-14 07:03:22.986808"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:23.022885"], ["updated_at", "2016-06-14 07:03:23.022885"]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:23.063500"], ["updated_at", "2016-06-14 07:03:23.063500"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "created_at", "updated_at") VALUES (?, ?, ?)  [["gcm_token", "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"], ["created_at", "2016-06-14 07:03:23.111314"], ["updated_at", "2016-06-14 07:03:23.111314"]]
DeviceTest: test_device_belongs_to_correct_worker
  [1m[35mDevice Load (0.2ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:03:23.246565"], ["updated_at", "2016-06-14 07:03:23.246565"]]
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:03:23.263437"], ["updated_at", "2016-06-14 07:03:23.263437"]]
  [1m[36mDevice Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = '' AND "devices"."id" != 1) LIMIT 1[0m
DeviceTest: test_device_belongs_to_correct_site
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:03:23.283213"], ["updated_at", "2016-06-14 07:03:23.283213"]]
  [1m[36mDevice Load (0.1ms)[0m  [1mSELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1[0m  [["worker_id", 1]]
  [1m[36mDevice Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:03:23.298782"], ["updated_at", "2016-06-14 07:03:23.298782"]]
  [1m[35mDevice Exists (0.2ms)[0m  SELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1
  [1m[35mDevice Load (0.1ms)[0m  SELECT  "devices".* FROM "devices" WHERE "devices"."worker_id" = ? LIMIT 1  [["worker_id", 1]]
  [1m[35mDevice Exists (0.1ms)[0m  SELECT  1 AS one FROM "devices" WHERE "devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "devices" ("gcm_token", "worker_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["gcm_token", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["worker_id", 1], ["created_at", "2016-06-14 07:03:23.316360"], ["updated_at", "2016-06-14 07:03:23.316360"]]
  [1m[36mDevice Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "devices" WHERE ("devices"."gcm_token" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' AND "devices"."id" != 1) LIMIT 1[0m
@fileI"b/home/nikolay/Dropbox/Code/Rails/attendancecheck-rails-app/app/assets/stylesheets/device.scss;	T:@importero:Sass::Rails::SassImporter:
@rootI"b/home/nikolay/Dropbox/Code/Rails/attendancecheck-rails-app/app/assets/stylesheets/device.scss;	F:@real_rootI"b/home/nikolay/Dropbox/Code/Rails/attendancecheck-rails-app/app/assets/stylesheets/device.scss;	T:@same_name_warningso:Set:
I"app/assets/stylesheets/device.scss?type=text/css&pipeline=self&id=d2e81915d700fe77be89da5e51a6f1b500465c9c55d3f9f60bf3c31bb17e57aa:ET
I"environment-version:ETTI"environment-paths;TTI"rails-env;TTI"jprocessors:type=application/javascript&file_type=application/javascript&engines=.coffee&pipeline=self;TTI"7file-digest://app/assets/javascripts/device.coffee;TTFo; ;}
I"environment-version;TTI"environment-paths;TTI"rails-env;TTI"jprocessors:type=application/javascript&file_type=application/javascript&engines=.coffee&pipeline=self;TTI"7file-digest://app/assets/javascripts/device.coffee;TTF
{:uriI"file://app/assets/stylesheets/device.scss?type=text/css&pipeline=self&id=d980612f8d150d426191c76b6cc311b2c20cf9b3eb274d25c1c3828e9a5b2fae:ET:load_pathI"app/assets/stylesheets;T:filenameI"'app/assets/stylesheets/device.scss;T:	nameI"device;T:logical_pathI"device.self.css;T:content_typeI"text/css;T:sourceI" ;T:metadata{:dependencieso:Set:
I"environment-version;TTI"environment-paths;TTI"rails-env;TTI"Lprocessors:type=text/css&file_type=text/css&engines=.scss&pipeline=self;TTI"5file-digest://app/assets/stylesheets/device.scss;TTF:requiredo;;} F:stubbedo;;} F:
I"app/assets/javascripts/device.coffee?type=application/javascript&pipeline=self&id=6ace3d7ee513939f74ac321f750e9293e1dc5a2f1bdd661dc998bd75fe9df6e6:ET
I"app/assets/stylesheets/device.scss?type=text/css&pipeline=self&id=d980612f8d150d426191c76b6cc311b2c20cf9b3eb274d25c1c3828e9a5b2fae:ET
{:uriI"file://app/assets/javascripts/device.coffee?type=application/javascript&pipeline=self&id=6ace3d7ee513939f74ac321f750e9293e1dc5a2f1bdd661dc998bd75fe9df6e6:ET:load_pathI"app/assets/javascripts;T:filenameI")app/assets/javascripts/device.coffee;T:	nameI"device;T:logical_pathI"device.self.js;T:content_typeI"application/javascript;T:sourceI"$(function() {
I"environment-version;TTI"environment-paths;TTI"rails-env;TTI"jprocessors:type=application/javascript&file_type=application/javascript&engines=.coffee&pipeline=self;TTI"7file-digest://app/assets/javascripts/device.coffee;TTF:requiredo;;} F:stubbedo;;} F:
{:uriI"file://app/assets/stylesheets/device.scss?type=text/css&pipeline=self&id=d2e81915d700fe77be89da5e51a6f1b500465c9c55d3f9f60bf3c31bb17e57aa:ET:load_pathI"app/assets/stylesheets;T:filenameI"'app/assets/stylesheets/device.scss;T:	nameI"device;T:logical_pathI"device.self.css;T:content_typeI"text/css;T:sourceI" ;T:metadata{:dependencieso:Set:
I"environment-version;TTI"environment-paths;TTI"rails-env;TTI"Lprocessors:type=text/css&file_type=text/css&engines=.scss&pipeline=self;TTI"5file-digest://app/assets/stylesheets/device.scss;TTF:requiredo;;} F:stubbedo;;} F:
I"app/assets/javascripts/device.coffee?type=application/javascript&pipeline=self&id=782507cc4b535c171002f04e84f56bf18479297c397752bdc782e20663438471:ET
{:uriI"file://app/assets/javascripts/device.coffee?type=application/javascript&pipeline=self&id=782507cc4b535c171002f04e84f56bf18479297c397752bdc782e20663438471:ET:load_pathI"app/assets/javascripts;T:filenameI")app/assets/javascripts/device.coffee;T:	nameI"device;T:logical_pathI"device.self.js;T:content_typeI"application/javascript;T:sourceI"$(function() {
I"environment-version;TTI"environment-paths;TTI"rails-env;TTI"jprocessors:type=application/javascript&file_type=application/javascript&engines=.coffee&pipeline=self;TTI"7file-digest://app/assets/javascripts/device.coffee;TTF:requiredo;;} F:stubbedo;;} F:
I"environment-version:ETTI"environment-paths;TTI"rails-env;TTI"Lprocessors:type=text/css&file_type=text/css&engines=.scss&pipeline=self;TTI"5file-digest://app/assets/stylesheets/device.scss;TTFo; ;}
I"environment-version;TTI"environment-paths;TTI"rails-env;TTI"Lprocessors:type=text/css&file_type=text/css&engines=.scss&pipeline=self;TTI"5file-digest://app/assets/stylesheets/device.scss;TTF
.gitignore        WW=WIC!@    ,        bdS߫ݴ/Ee.g Gemfile   WW=WIC!@    ,        y\hiZb~WA Gemfile.lock      WW=WIC!@    ,         If4]m'쀲 Procfile  WW=WIC!@    ,         M2YMrQѬߑY\ 	README.md WWFWIC!@    ,        N.X[ (d}ZN README.rdoc       WW=WIC!@    ,J         ؅4+gBTك$X Rakefile  WW=WIC!@    .i        M%#UC9ii app/api/api/access_tokens.rb      W__ XtW__ Xt    .j        YQEU!b)~3^Un޵ app/api/api/attendance_check.rb   WW=WIC!@    .k        4X(t8&RYrW app/api/api/calls.rb      W_5*̸W_5*̸    .        +yiDy4Lu app/api/api/companies.rb  W_#BW_#B    .        B?o4^OHU#!pU_ app/api/api/protected_data.rb     W_3%eW_3%e    .        r+Rfu{%x-ڐ app/api/api/workers.rb    WW=WIC!@    .          ⛲CK)wZS app/assets/images/.keep   WW=WIC!@    .        B%_o[(b= %app/assets/javascripts/application.js     WW=WIC!@    .         $=ӌ$6֎z* $app/assets/javascripts/device.coffee      WW=WIC!@    .         $=ӌ$6֎z* #app/assets/javascripts/route.coffee       WW=WIC!@    .         $=ӌ$6֎z* &app/assets/javascripts/settings.coffee    WW=WIC!@    .         $=ӌ$6֎z* "app/assets/javascripts/site.coffee        WW=WIC!@    .         2Dۄ8g 3/LR #app/assets/javascripts/timeinput.js       WW=WIC!@    .        k|qA%rN-׺! &app/assets/stylesheets/application.css    WW=WIC!@    .        7Q$4#^+09tp &app/assets/stylesheets/custom.css.scss    WW=WIC!@    .         %B:d,6ln^pZ "app/assets/stylesheets/device.scss        WW=WIC!@    .         2|ykt5F (app/assets/stylesheets/registrations.css  WW=WIC!@    .         2|ykt5F  app/assets/stylesheets/route.css  WW=WIC!@    .         2|ykt5F #app/assets/stylesheets/settings.css       WW=WIC!@    .         2|ykt5F app/assets/stylesheets/site.css   WW=WIC!@    .         2|ykt5F &app/assets/stylesheets/static_page.css    WW=WIC!@    .         2|ykt5F app/assets/stylesheets/user.css   WW=WIC!@    .         2|ykt5F !app/assets/stylesheets/worker.css WW=WIC!@    .        zjqI"U<NY!a 3app/controllers/Company/confirmations_controller.rb       WW=WIC!@    .        .m	iܢul4j 8app/controllers/Company/omniauth_callbacks_controller.rb  WW=WIC!@    .        m4&Ovi'{C& /app/controllers/Company/passwords_controller.rb   WW=WIC!@    .        ˿!q>xL"29`nT 3app/controllers/Company/registrations_controller.rb       W]5PW]5N1:    .        Ws+]xpT$< .app/controllers/Company/sessions_controller.rb    WW=WIC!@    .        )./*C; -app/controllers/Company/unlocks_controller.rb     WW=WIC!@    .        ELi)aBzNv )app/controllers/application_controller.rb WW=WIC"I    .          ⛲CK)wZS app/controllers/concerns/.keep    WW=WIC"I    .         3e }<eoEA $app/controllers/device_controller.rb      WW=WIC"I    .        -OyYx]:̧G7 #app/controllers/route_controller.rb       WW=WIC"I    .        H !P{{R &app/controllers/settings_controller.rb    WZSC6	WZR/m    .        Rqj;YVa+~ "app/controllers/site_controller.rb        WW=WIC"I    .         qWkmޢrRqQxJ )app/controllers/static_page_controller.rb WW=WIC"I    .        Ƌc9o
Kd3 $app/controllers/worker_controller.rb      WW=WIC"I    .         ,d+wg'+ !app/helpers/application_helper.rb WW=WIC"I    .         ~KGEs{U.M app/helpers/company_helper.rb     WW=WIC"I    .         "hl@fRlm app/helpers/device_helper.rb      WW=WIC"I    .         5WT`)J PKӱ?@ app/helpers/route_helper.rb       WW=WIC"I    .         ۯFU
}G!9mw app/models/api_key.rb     WW=WIC"I    .        w)"UQAZ;aܛ` app/models/call.rb        WW=WIC"I    .        hݗє 	׵^$ app/models/company.rb     WW=WIC"I    .          ⛲CK)wZS app/models/concerns/.keep W_+YWW_+YW    .        ~L!BEUlt# app/models/device.rb      WW=WIC"I    .         jo (rۭ6)} app/models/position.rb    WW=WIC"I    .         ~ΈÅ5q3O app/models/route.rb       WW=WIC"I    .        ~x,=	 app/models/site.rb        WW=WIC"I    .        '?娀b4BT app/models/worker.rb      WW=WIC"I    .        ۡX)" 6s; 0app/views/company_notifier/sample_email.html.erb  WW=WIC"I    .         =ނBTbhVV 0app/views/company_notifier/sample_email.text.erb  WW=WIC"I    .        fr@~-sfEe*\ F +app/views/devise/confirmations/new.html.erb       WW=WIC"I    .        QiyL?~22 :app/views/devise/mailer/confirmation_instructions.html.erb        WW=WIC"I    .         uGj5TD_bK[T 0app/views/devise/mailer/password_change.html.erb  WW=WIC"I    .        g4 ßLaO <app/views/devise/mailer/reset_password_instructions.html.erb      WW=WIC"I    .        AH*س\E_~ 4app/views/devise/mailer/unlock_instructions.html.erb      WW=WIC"TR    .        #jyk8UOѩr (app/views/devise/passwords/edit.html.erb  WW=WIC"TR    .        =m,ȇ&tb 'app/views/devise/passwords/new.html.erb   WW=WIC"TR    .        
 config/environments/test.rb       WW=WIC"TR    .         >f0;AN"1# config/initializers/assets.rb     WW=WIC"TR    .!        Y8\7j#&m\ *config/initializers/backtrace_silencers.rb        WW=WIC"TR    ."         pEb#>K縃  )config/initializers/cookies_serializer.rb WZSD:WZRU m    .#        3n'a+s0K# config/initializers/devise.rb     WW=WIC"TR    .$         JN{(옺ԋ}Q /config/initializers/filter_parameter_logging.rb   WW=WIC"TR    .%        ;܄a2Ίθn "config/initializers/inflections.rb        WW=WIC"TR    .&         h+æg?tn#_O !config/initializers/mime_types.rb WW=WIC"TR    .'         {Iw=>:k*5HI $config/initializers/session_store.rb      WW=WIC"TR    .(        3r^"?uf&G &config/initializers/wrap_parameters.rb    WW=WIC"TR    .*        L>i?I~l;PM{z$ config/locales/devise.en.yml      WW=WIC"TR    .+        zSqf(n6WɈݒ config/locales/en.yml     WW=WIC"TR    .,        ݛ~Z~lyuLBAc config/routes.rb  WW=WIC"TR    .-        AYqPz#bR@Q config/schedule.rb        WW=WIC"TR    ..        Ʌ<-|:Q] config/secrets.yml        W_+YWW_+YW    .         5+WRyʿ`8cK +db/migrate/20160306173852_create_devices.rb       WW=WIC"TR    .7        dw!\ylKy& 4db/migrate/20160314224437_devise_create_companies.rb      WW=WIC"TR    .8         ^X8Ncu8_E :db/migrate/20160314224724_add_company_name_to_companies.rb        WW=WIC"TR    .9         gs[CdiZVxǙ J 5db/migrate/20160319110950_remove_unnecessary_index.rb     WW=WIC"TR    .:         j{Eɍ.*5k)^ +db/migrate/20160324204735_create_workers.rb       WW=WIC"TR    .;         >iIVNǩ gc ;db/migrate/20160327133622_add_password_digest_to_workers.rb       WW=WIC"TR    .<         cVU0i? @db/migrate/20160403122800_add_index_company_name_to_companies.rb  WW=WIC"TR    .=         k%́?8n:'/`h <db/migrate/20160410060420_add_company_reference_to_worker.rb      WW=WIC"TR    .>         :Vkʮu6
埸 ,db/migrate/20160416170045_create_api_keys.rb      WW=WIC"TR    .?        =qK"vd 5db/migrate/20160417164806_rails_settings_migration.rb     WW=WIC"TR    .@         _(I,VX0zV| <db/migrate/20160418091701_add_expiration_date_to_api_keys.rb      WW=WIC"TR    .A         jk!Ly w&6! Adb/migrate/20160424151226_remove_expiration_date_from_api_keys.rb WW=WIC"TR    .B         }씪|%n 6db/migrate/20160426072109_change_devices_token_name.rb    WW=WIC"TR    .C         Z$@O'!
 5db/migrate/20160430064544_add_worker_id_to_devices.rb     WW=WIC"TR    .D        tZTb%FJZRR )db/migrate/20160501063008_create_calls.rb WW=WIC"TR    .E        b`i- ?db/migrate/20160503173224_add_confirmable_email_to_companies.rb   WW=WIC"TR    .F         &䲪汥osAZ )db/migrate/20160511060012_create_sites.rb WW=WIC"TR    .G         d5)gjQx:8ζ Adb/migrate/20160511060448_change_company_and_worker_references.rb WW=WIC"TR    .H          OܒvqQA&F 7db/migrate/20160511063329_change_workers_name_format.rb   WW=WIC"TR    .I         H#Bfsq
Nc 1db/migrate/20160511071450_create_sites_workers.rb WW=WIC"TR    .J         {-SSp/4 =db/migrate/20160511203643_add_company_reference_to_workers.rb     WW=WIC"TR    .K         qeŧ4[7GI} *db/migrate/20160513073720_create_routes.rb        WW=WIC"TR    .L         Xhrk;$vd -db/migrate/20160514213255_create_positions.rb     WW=WIC"TR    .M         s9nFz,M$r0G 9db/migrate/20160515150309_add_site_reference_to_device.rb W_gMW_+YW    .N        A.;vf<Qk{|j db/schema.rb      WW=WIC"TR    .O        cq,NYw/h+ db/seeds.rb       WW=WIC"[    .R          ⛲CK)wZS lib/assets/.keep  WW=WIC"[    .T          ⛲CK)wZS lib/tasks/.keep   WW=WIC"[    .V          ⛲CK)wZS 	log/.keep WW=WIC"[    .X        Tne^ƒ public/404.html   WW=WIC"[    .Y        CLo`09A public/422.html   WW=WIC"[    .Z        X}ͱ*OԻ a public/500.html   WW=WIC"[    .\        .c틑ٵCpĨTN\ Gpublic/assets/.sprockets-manifest-8ec16a8ae308ee130022a0951cb98dd5.json   WW=WIC"d    .]       ^yFgIVhl?#M ]public/assets/application-0fc1186eb67a131273a58973318a1b5025e8c3f60077198f5904eebfe6119e14.js     WW=WIC"d    .^       $UJ'IsE `public/assets/application-0fc1186eb67a131273a58973318a1b5025e8c3f60077198f5904eebfe6119e14.js.gz  WW=WIC"d    ._       ^Z:{HMC94v ]public/assets/application-27a56fb38359f180c65233adae60b23c740a39e9365d612c7a5fd897fb13f26e.js     WW=WIC"d    .`       q{g&}V `public/assets/application-27a56fb38359f180c65233adae60b23c740a39e9365d612c7a5fd897fb13f26e.js.gz  WW=WIC"d    .a       <--~'JʒϤ; ^public/assets/application-323b49c6d813affc69a3a5be6654df4c8a268ccc3ed4534c28b1aacc77f92473.css    WW=WIC"d    .b        W_FA|]7fYaYJP apublic/assets/application-323b49c6d813affc69a3a5be6654df4c8a268ccc3ed4534c28b1aacc77f92473.css.gz WW=WIC#m    .c        =#`1ݯ,k[% ^public/assets/application-948d903bae57ff5f2a242ff3f1c1970a8b5bdcae20514e8669b8bb80ae957c79.css    WW=WIC#m    .d        iO8:7Zue_J apublic/assets/application-948d903bae57ff5f2a242ff3f1c1970a8b5bdcae20514e8669b8bb80ae957c79.css.gz WW=WIC#Hv    .e       ·ZM)gS"Q+ ]public/assets/application-b69b4229c1d55804253a62bfd8dda7df37b66b941020095e99226b71c387a702.js     WW=WIC#Hv    .f       o3%JpM/(d# `public/assets/application-b69b4229c1d55804253a62bfd8dda7df37b66b941020095e99226b71c387a702.js.gz  WW=WIC#Hv    .g       =rpFkceO1@s ^public/assets/application-df6adaf4b10373ff8e757df079317b2ee4f7199a6bffec789f9b3ec10625f3b3.css    WW=WIC#Hv    .h        Wm-Fs.8U>a apublic/assets/application-df6adaf4b10373ff8e757df079317b2ee4f7199a6bffec789f9b3ec10625f3b3.css.gz WW=WIC#Hv    .i        w	@4K{yP) ^public/assets/application-e80e8f2318043e8af94dddc2adad5a4f09739a8ebb323b3ab31cd71d45fd9113.css    WW=WIC#Hv    .j        i47yJ-is})# apublic/assets/application-e80e8f2318043e8af94dddc2adad5a4f09739a8ebb323b3ab31cd71d45fd9113.css.gz WW=WIC#Hv    .k       e=30C2=_ ]public/assets/application-ecf3279cf58feb96df94c88cba79d269441cb685ab2b2cf1db64c96544fcd9ca.js     WW=WIC#Hv    .l       o-^EH͖6e[96 `public/assets/application-ecf3279cf58feb96df94c88cba79d269441cb685ab2b2cf1db64c96544fcd9ca.js.gz  WW=WIC#    .n        @g /hTk,nN ypublic/assets/bootstrap/glyphicons-halflings-regular-bd18efd3efd70fec8ad09611a20cdbf99440b2c1d40085c29be036f891d65358.ttf WW=WIC#    .o        sQґ.0	_ ypublic/assets/bootstrap/glyphicons-halflings-regular-d168d50a88c730b4e6830dc0da2a2b51dae4658a77d9619943c27b8ecfc19d1a.svg WW=WIC#    .p        Ar>TbJ%΍7 |public/assets/bootstrap/glyphicons-halflings-regular-d168d50a88c730b4e6830dc0da2a2b51dae4658a77d9619943c27b8ecfc19d1a.svg.gz      WW=WIC#    .q        OoJLe~an.K ypublic/assets/bootstrap/glyphicons-halflings-regular-f495f34e4f177cf0115af995bbbfeb3fcabc88502876e76fc51a4ab439bc8431.eot WW=WIC#    .r        [T*ѫ<qka\ zpublic/assets/bootstrap/glyphicons-halflings-regular-fc969dc1c6ff531abcf368089dcbaf5775133b0626ff56b52301a059fc0f9e1e.woff        WW=WIC#    .t        ;Y^;vgx jpublic/assets/web_console/application-03ccc0db7d3e10231bb3b8b9a780be36587749066b3011b0525b805baeb162c1.css        WW=WIC#    .u        AF[
񡽚Ad羪 mpublic/assets/web_console/application-03ccc0db7d3e10231bb3b8b9a780be36587749066b3011b0525b805baeb162c1.css.gz     WW=WIC#    .v       [#&co+#jp0L ipublic/assets/web_console/application-37bc1d0490c1c65cb8a777119d058e0b2a29424b5df44db84c308e73828961f3.js WW=WIC#    .w        *-m&̷ݑ2DΕ` lpublic/assets/web_console/application-37bc1d0490c1c65cb8a777119d058e0b2a29424b5df44db84c308e73828961f3.js.gz      WW=WIC#    .x          ⛲CK)wZS public/favicon.ico        WW=WIC#    .y         <|	-*20z public/robots.txt WW=WIC#    ,Q       ͋,n,葶v~ R[ res.html  WW=WIC#    .|          ⛲CK)wZS test/controllers/.keep    WW=WIC#    .}         4e0}g'1eV *test/controllers/device_controller_test.rb        WW=WIC#    .~         |qbӅU& )test/controllers/route_controller_test.rb WW=WIC#    .         &Z	2G-  ,test/controllers/settings_controller_test.rb      WW=WIC#    .         (%'/A9?hdc (test/controllers/site_controller_test.rb  WW=WIC#    .        B%T6
mB0 /test/controllers/static_page_controller_test.rb   WW=WIC#    .         5^2WTWE8 *test/controllers/worker_controller_test.rb        WW=WIC#    .          ⛲CK)wZS test/fixtures/.keep       WW=WIC#    .         `GM)-ظ_ma?`/M- test/fixtures/api_keys.yml        WW=WIC#    .        cz .Bha;Z*> test/fixtures/calls.yml   WW=WIC#    .          ⛲CK)wZS test/fixtures/companies.yml       W_ݜW_+YW    .X          ⛲CK)wZS test/fixtures/devices.yml WW=WIC#    .        cz .Bha;Z*> test/fixtures/positions.yml       WW=WIC#    .        cz .Bha;Z*> test/fixtures/routes.yml  WW=WIC#    .        cz .Bha;Z*> test/fixtures/sites.yml   WW=WIC#    .          ⛲CK)wZS test/fixtures/workers.yml WW=WIC#    .          ⛲CK)wZS test/helpers/.keep        WW=WIC#    .          ⛲CK)wZS test/integration/.keep    W_nHFW_nHF    .        _NG,6P;
s test/integration/api_test.rb      WW=WIC#    .          ⛲CK)wZS test/mailers/.keep        WW=WIC#    .         e###;Y %test/mailers/company_notifier_test.rb     WW=WIC#    .         u`	{3K;2 1test/mailers/previews/company_notifier_preview.rb WW=WIC#    .          ⛲CK)wZS test/models/.keep WW=WIC#    .        mDP&7%N test/models/api_key_test.rb       WW=WIC#    .        Ti5 'Bq test/models/call_test.rb  WW=WIC#    .        +X7Uuf test/models/company_test.rb       W_FW_,kW    .        If|ѭaeatG test/models/device_test.rb        WW=WIC#    .        +c	}\mC{~ test/models/position_test.rb      WW=WIC#    .        %9iP2ˎ{1n(v test/models/route_test.rb WW=WIC#    .        98}}&|
#{eq-өc?J3%SEJ)x: 2|ާ7%08ˉyF3c{(Z3%ēg!x{Q 2N/5eyN; x31 ĂLyrt[y' cux340031QH,)IKIKNOHM+Jb8_x*WPU<!jSR2r3KKJA\W*Jݺ">m11+qY"!? 1/3lO$GxB:v9C嗤&ħ$$K]jUCM̍o*.JM,. 꽅ySW[գhӃ./-J8!>gJLۤ3:<E ė''T7㒓y|gӹb@Ug嗖 9aYKKuNﾎqݧ%T1$HyY>މ+[.` txH VڷpYV8z/@'devices.rb ظV)GAjm6$W!VWx& jNmW\ʹIZgK7+l05ٲxUъ0E.\QAAqfŲZd&sr`JG؆u4SXIK6!~T*3ݺ8QD`B{\TT&{-m B U5Ϻ$yѓ8AFVGGChf910~OOy>OE8|Nu=&CAukbKxt+7?4'U1s#+# D4k~xk|˿'	_ _-xQMK@WPBO"AzD{%lٍjW!3yoҩ <68ȍWΪ5<P%C TH%*IYΌp*2f- 7VM3^)GeT61GG "3EC8`Xڀ;3Ш w%Z+feXǳBc}32D.IAo_ }HpX̠9M۽4ZA(.qV8F;9=Lo)}1}6!ηƟw\_tDxz+7?4'U1s#a& ExqBiT1F=Ǽ-\yĉ x340031QNM-`x6M9{wk+qIODCĂ$ oMU>qNa &D(x: 2g`=zk0F\Gk)p]L=W'-%Փg!
+x˱cD{Se.ҜҼ<BJjBqj^J|bNS mx  K#GZhچ=5֓_N>jxͲečW0 coxQ JsrRz|IAw,^&  Kx` (company_]JC7ȨlT;*Lg100644 devices_controller_test.rb !{gF6Kt*ow)0Xx8A%,39xI 0Pjxkc #x340031QK,L/Jeh5G6#IqXq!D{jnZfN*CM?Hƺu%~D/'?9aZ&zV=lUwy> T_+m³W'cR
          <code class="ruby">  has_many :devices, dependent: :destroy</code>
          <code class="ruby">  has_one :device, dependent: :destroy</code>
        return settings.get('retinaUrl') && window.devicePixelRatio > 1 ? url.replace(settings.get('photoRegex'), settings.get('retinaSuffix')) : url;
                        if (settings.get('retinaImage') && window.devicePixelRatio > 1) {
                            photo.height = photo.height / window.devicePixelRatio;
                            photo.width = photo.width / window.devicePixelRatio;
