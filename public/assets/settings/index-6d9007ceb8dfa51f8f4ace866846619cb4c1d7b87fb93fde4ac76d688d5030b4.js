function create_email_input(e){var i=$('<div class="report-email input-group form-group"></div>'),t=$('<input class="form-control" type="text" name="recipients[]" value="'+e+'"/>'),n=$('<span class="input-group-btn"><button class="btn btn-danger email-remove"  data-toggle="tooltip" data-placement="right" title="Remove email"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></button></span>');n.click(function(){is_email_checked()&&$(this).parent().remove()}),i.append(t),i.append(n),$("#emails").append(i)}function add_email(){$input=$("#new-email-input"),$input.val().length>0?(create_email_input($input.val()),$input.val("")):alert("Field is empty, please enter an email first")}function initialize_new_email_form(){$new_email_button=$("#new-email-add"),$new_email_button.click(add_email),$("#new-email-input").keypress(function(e){if(13==e.which)return $new_email_button.click(),!1})}function update_email_inputs(e){$("#email-settings :input").prop("disabled",!e)}function is_email_checked(){return $("#email_wanted").is(":checked")}$(document).ready(function(){initialize_new_email_form(),$('[data-toggle="tooltip"]').tooltip(),update_email_inputs($("#email_wanted").is(":checked")),$("#email_wanted").on("click",function(){update_email_inputs($(this).is(":checked"))})});